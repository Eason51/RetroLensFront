(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{446:function(e,t,i){},629:function(e,t,i){},643:function(e,t,i){"use strict";i.r(t);i(205);var c,n=i(1),a=i.n(n),s=i(55),l=i.n(s),d=(i(446),function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,739)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;i(e),c(e),n(e),a(e),s(e)}))}),r=i(36),o=i(29),u=i(30),b=i(63),h=i(39),m=i(40),f=i(730),p=i(119),x=i.n(p),j=(i(270),i(61)),g=i(391),C=i.n(g),y=["title","titleId"];function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var i,c,n=function(e,t){if(null==e)return{};var i,c,n={},a=Object.keys(e);for(c=0;c<a.length;c++)i=a[c],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)i=a[c],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function I(e,t){var i=e.title,a=e.titleId,s=v(e,y);return n.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 841.9 595.3",ref:t,"aria-labelledby":a},s),i?n.createElement("title",{id:a},i):null,c||(c=n.createElement("g",{fill:"#61DAFB"},n.createElement("path",{d:"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z"}),n.createElement("circle",{cx:420.9,cy:296.5,r:45.7}),n.createElement("path",{d:"M520.5 78.1z"}))))}var S=n.forwardRef(I),w=(i.p,i(3)),B=[{i:"a",x:0,y:0,w:60,h:1,static:!0},{i:"b",x:0,y:1,w:60,h:4,static:!0}],k=window,T=(k.innerWidth,k.innerHeight/23),F=function(e){var t=e.nodeDatum,i=(e.toggleNode,e.foreignObjectProps),c="";return c=0!==t.attributes.confidence?"white":!0===t.attributes.isCommercial?"green":!1===t.attributes.isCommercial&&!0===t.attributes.isExpandable?"blue":"red",Object(w.jsxs)("g",{children:[Object(w.jsx)("rect",{width:60,height:20,fill:"lightblue",x:-30,onClick:function(e){t.attributes.userSelected=!t.attributes.userSelected}}),Object(w.jsx)("text",{x:-25,y:15,children:"expand"}),Object(w.jsx)("foreignObject",Object(j.a)(Object(j.a)({},i),{},{children:Object(w.jsx)("div",{onClick:function(e){},children:Object(w.jsxs)(x.a,{className:"layout",layout:B,cols:60,rowHeight:T,width:i.width,margin:[3,.5],isResizable:!0,style:{backgroundColor:c},children:[Object(w.jsx)("div",{children:Object(w.jsx)(f.a,{variant:"outlined",style:{height:T},children:Object(w.jsx)("p",{style:{backgroundColor:"#e9ecef",margin:"5px",paddingLeft:"5px"},children:t.name})})},"a"),Object(w.jsx)("div",{children:Object(w.jsx)(f.a,{variant:"outlined",style:{height:4*T},children:Object(w.jsx)(S,{})})},"b")]})})}))]})},E=(n.Component,function e(t){var i=t.smiles,c={confidence:t.confidence,imageURL:"../logo.svg",isExpandable:t.isExpandable,isCommercial:t.isCommercial,userSelected:!1},n=[];return t.children.forEach((function(t){n.push(e(t))})),{name:i,attributes:c,children:n}}),A=function(e){var t=[];return e.forEach((function(e){t.push(E(e))})),t};[].push({name:"1CCCCCCCCCCC",attributes:{imageURL:"../logo.svg"},children:[{name:"2CCCCCCCCCCC",attributes:{imageURL:"../logo.svg"},children:[{name:"3CCCCCCCCCCC",attributes:{imageURL:"../logo.svg"},children:[]},{name:"3CCCCCCCCCCC",attributes:{imageURL:"../logo.svg"},children:[]}]},{name:"2CCCCCCCCCCC",attributes:{imageURL:"../logo.svg"},children:[]},{name:"2CCCCCCCCCCC",attributes:{imageURL:"../logo.svg"},children:[]}]});var M,D=A([{id:"62b677b9114bfa0001149b01",metadata:{},embed:{},computedFields:{},createdOn:1656125369590,createdBy:"system",modifiedOn:1656125369590,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.888,confidenceTag:null,rclass:"Alcohol to ketone oxidation",hasFeedback:!1,feedback:null,children:[{id:"62b677b9114bfa0001149afb",metadata:{},embed:{},computedFields:{},createdOn:1656125369500,createdBy:"system",modifiedOn:1656125369500,modifiedBy:"system",moleculeId:"5f9005d7336b130001579746",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4O)[C@@H]1C=CO[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[{id:"62b677b9114bfa0001149afa",metadata:{},embed:{},computedFields:{},createdOn:1656125369491,createdBy:"system",modifiedOn:1656125369491,modifiedBy:"system",moleculeId:"5f9005d7336b130001579746",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4O)[C@@H]1C=CO[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{artifact:!0,borderColor:"#990000",molecule2expandable:!1,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!1}],metaData:{borderColor:"#990000",molecule2expandable:!0,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677b9114bfa0001149afc",metadata:{},embed:{},computedFields:{},createdOn:1656125369515,createdBy:"system",modifiedOn:1656125369515,modifiedBy:"system",moleculeId:"5eb27df7759cc0000174de80",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"CCN(CC)CC",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677b9114bfa0001149afd",metadata:{},embed:{},computedFields:{},createdOn:1656125369531,createdBy:"system",modifiedOn:1656125369531,modifiedBy:"system",moleculeId:"5eb2ef48759cc0000174f27c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"CS(C)=O",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677b9114bfa0001149afe",metadata:{},embed:{},computedFields:{},createdOn:1656125369550,createdBy:"system",modifiedOn:1656125369550,modifiedBy:"system",moleculeId:"5eb27aae759cc0000174d3f8",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"ClCCl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677b9114bfa0001149aff",metadata:{},embed:{},computedFields:{},createdOn:1656125369565,createdBy:"system",modifiedOn:1656125369565,modifiedBy:"system",moleculeId:"5eb279fd759cc0000174d2d6",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"O",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677b9114bfa0001149b00",metadata:{},embed:{},computedFields:{},createdOn:1656125369583,createdBy:"system",modifiedOn:1656125369583,modifiedBy:"system",moleculeId:"5eb364a9759cc00001754878",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149af8",projectId:"62b67770114bfa000114992a",smiles:"[Cl-]",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677b9114bfa0001149b07",metadata:{},embed:{},computedFields:{},createdOn:1656125369761,createdBy:"system",modifiedOn:1656125369761,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b02",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.441,confidenceTag:null,rclass:"Ketone dioxolane deprotection",hasFeedback:!1,feedback:null,children:[{id:"62b677b9114bfa0001149b04",metadata:{},embed:{},computedFields:{},createdOn:1656125369713,createdBy:"system",modifiedOn:1656125369713,modifiedBy:"system",moleculeId:"6281d53f19543e000196a670",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b02",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC41OCCO1)[C@@H]1C=CO[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[{id:"62b677b9114bfa0001149b03",metadata:{},embed:{},computedFields:{},createdOn:1656125369705,createdBy:"system",modifiedOn:1656125369705,modifiedBy:"system",moleculeId:"6281d53f19543e000196a670",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b02",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC41OCCO1)[C@@H]1C=CO[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{artifact:!0,borderColor:"#990000",molecule2expandable:!1,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!1}],metaData:{borderColor:"#990000",molecule2expandable:!0,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677b9114bfa0001149b05",metadata:{},embed:{},computedFields:{},createdOn:1656125369738,createdBy:"system",modifiedOn:1656125369738,modifiedBy:"system",moleculeId:"5eb27aae759cc0000174d3f8",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b02",projectId:"62b67770114bfa000114992a",smiles:"ClCCl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677b9114bfa0001149b06",metadata:{},embed:{},computedFields:{},createdOn:1656125369753,createdBy:"system",modifiedOn:1656125369753,modifiedBy:"system",moleculeId:"5eb28afd759cc0000174ecba",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b02",projectId:"62b67770114bfa000114992a",smiles:"O=C(O)C(F)(F)F",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677b9114bfa0001149b0d",metadata:{},embed:{},computedFields:{},createdOn:1656125369905,createdBy:"system",modifiedOn:1656125369905,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b08",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.0161,confidenceTag:null,rclass:"Alkene hydrogenation",hasFeedback:!1,feedback:null,children:[{id:"62b677b9114bfa0001149b0a",metadata:{},embed:{},computedFields:{},createdOn:1656125369867,createdBy:"system",modifiedOn:1656125369867,modifiedBy:"system",moleculeId:"6281d54019543e000196a676",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b08",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)C=CC4=O)[C@@H]1C=CO[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#ce4e04",molecule2expandable:!0,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677b9114bfa0001149b0b",metadata:{},embed:{},computedFields:{},createdOn:1656125369882,createdBy:"system",modifiedOn:1656125369882,modifiedBy:"system",moleculeId:"5eb27f86759cc0000174e4bc",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b08",projectId:"62b67770114bfa000114992a",smiles:"[H][H]",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677b9114bfa0001149b0c",metadata:{},embed:{},computedFields:{},createdOn:1656125369897,createdBy:"system",modifiedOn:1656125369897,modifiedBy:"system",moleculeId:"5eb27df6759cc0000174de4f",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b08",projectId:"62b67770114bfa000114992a",smiles:"[Pd]",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b14",metadata:{},embed:{},computedFields:{},createdOn:1656125370061,createdBy:"system",modifiedOn:1656125370061,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b0e",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.0113,confidenceTag:null,rclass:"Alcohol elimination",hasFeedback:!1,feedback:null,children:[{id:"62b677ba114bfa0001149b0f",metadata:{},embed:{},computedFields:{},createdOn:1656125370008,createdBy:"system",modifiedOn:1656125370008,modifiedBy:"system",moleculeId:"6281d26c19543e000196a14c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b0e",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4=O)[C@@H]1CC(O)O[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#ce4e04",molecule2expandable:!0,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b10",metadata:{},embed:{},computedFields:{},createdOn:1656125370022,createdBy:"system",modifiedOn:1656125370022,modifiedBy:"system",moleculeId:"5eb27df7759cc0000174de80",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b0e",projectId:"62b67770114bfa000114992a",smiles:"CCN(CC)CC",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677ba114bfa0001149b11",metadata:{},embed:{},computedFields:{},createdOn:1656125370038,createdBy:"system",modifiedOn:1656125370038,modifiedBy:"system",moleculeId:"5eb2c4d2759cc0000174ef18",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b0e",projectId:"62b67770114bfa000114992a",smiles:"CS(=O)(=O)Cl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677ba114bfa0001149b12",metadata:{},embed:{},computedFields:{},createdOn:1656125370054,createdBy:"system",modifiedOn:1656125370054,modifiedBy:"system",moleculeId:"5eb27aae759cc0000174d3f8",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677b9114bfa0001149b0e",projectId:"62b67770114bfa000114992a",smiles:"ClCCl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b1a",metadata:{},embed:{},computedFields:{},createdOn:1656125370218,createdBy:"system",modifiedOn:1656125370218,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b15",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.0061,confidenceTag:null,rclass:"Alcohol elimination",hasFeedback:!1,feedback:null,children:[{id:"62b677ba114bfa0001149b16",metadata:{},embed:{},computedFields:{},createdOn:1656125370164,createdBy:"system",modifiedOn:1656125370164,modifiedBy:"system",moleculeId:"6281d26c19543e000196a148",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b15",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4=O)[C@@H]1[C@@H](O)CO[C@@H]1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#ce4e04",molecule2expandable:!0,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b17",metadata:{},embed:{},computedFields:{},createdOn:1656125370180,createdBy:"system",modifiedOn:1656125370180,modifiedBy:"system",moleculeId:"5eb27df7759cc0000174de80",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b15",projectId:"62b67770114bfa000114992a",smiles:"CCN(CC)CC",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677ba114bfa0001149b18",metadata:{},embed:{},computedFields:{},createdOn:1656125370195,createdBy:"system",modifiedOn:1656125370195,modifiedBy:"system",moleculeId:"5eb2c4d2759cc0000174ef18",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b15",projectId:"62b67770114bfa000114992a",smiles:"CS(=O)(=O)Cl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677ba114bfa0001149b19",metadata:{},embed:{},computedFields:{},createdOn:1656125370210,createdBy:"system",modifiedOn:1656125370210,modifiedBy:"system",moleculeId:"5eb27aae759cc0000174d3f8",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b15",projectId:"62b67770114bfa000114992a",smiles:"ClCCl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b20",metadata:{},embed:{},computedFields:{},createdOn:1656125370374,createdBy:"system",modifiedOn:1656125370374,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b1c",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.00262,confidenceTag:null,rclass:"Chiral separation",hasFeedback:!1,feedback:null,children:[{id:"62b677ba114bfa0001149b1d",metadata:{},embed:{},computedFields:{},createdOn:1656125370351,createdBy:"system",modifiedOn:1656125370351,modifiedBy:"system",moleculeId:"5f9005d7336b13000157974f",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b1c",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4=O)C1C=COC1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d",molecule2expandable:!0,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!0},{id:"62b677ba114bfa0001149b1f",metadata:{},embed:{},computedFields:{},createdOn:1656125370367,createdBy:"system",modifiedOn:1656125370367,modifiedBy:"system",moleculeId:"5eb27df7759cc0000174de6c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b1c",projectId:"62b67770114bfa000114992a",smiles:"Cc1ccccc1",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#002d9c",molecule2expandable:!1,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b25",metadata:{},embed:{},computedFields:{},createdOn:1656125370494,createdBy:"system",modifiedOn:1656125370494,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b22",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:.00113,confidenceTag:null,rclass:"Chiral separation",hasFeedback:!1,feedback:null,children:[{id:"62b677ba114bfa0001149b23",metadata:{},embed:{},computedFields:{},createdOn:1656125370472,createdBy:"system",modifiedOn:1656125370472,modifiedBy:"system",moleculeId:"5f9005d7336b13000157974f",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b22",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4=O)C1C=COC1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d",molecule2expandable:!0,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!0},{id:"62b677ba114bfa0001149b24",metadata:{},embed:{},computedFields:{},createdOn:1656125370487,createdBy:"system",modifiedOn:1656125370487,modifiedBy:"system",moleculeId:"5eb27aae759cc0000174d3f8",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b22",projectId:"62b67770114bfa000114992a",smiles:"ClCCl",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#002d9c",molecule2expandable:!1,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b2b",metadata:{},embed:{},computedFields:{},createdOn:1656125370629,createdBy:"system",modifiedOn:1656125370629,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b26",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:363e-7,confidenceTag:null,rclass:"Chiral separation",hasFeedback:!1,feedback:null,children:[{id:"62b677ba114bfa0001149b27",metadata:{},embed:{},computedFields:{},createdOn:1656125370591,createdBy:"system",modifiedOn:1656125370591,modifiedBy:"system",moleculeId:"5f9005d7336b13000157974f",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b26",projectId:"62b67770114bfa000114992a",smiles:"COc1cc2c(c3oc(=O)c4c(c13)CCC4=O)C1C=COC1O2",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d",molecule2expandable:!0,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!0},{id:"62b677ba114bfa0001149b29",metadata:{},embed:{},computedFields:{},createdOn:1656125370606,createdBy:"system",modifiedOn:1656125370606,modifiedBy:"system",moleculeId:"5eb283f0759cc0000174eac3",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b26",projectId:"62b67770114bfa000114992a",smiles:"Cc1ccc(S(=O)(=O)O)cc1",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#002d9c",molecule2expandable:!1,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677ba114bfa0001149b2a",metadata:{},embed:{},computedFields:{},createdOn:1656125370621,createdBy:"system",modifiedOn:1656125370621,modifiedBy:"system",moleculeId:"5eb27df7759cc0000174de6c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b26",projectId:"62b67770114bfa000114992a",smiles:"Cc1ccccc1",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#002d9c",molecule2expandable:!1,molecule2commercial:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b30",metadata:{},embed:{},computedFields:{},createdOn:1656125370766,createdBy:"system",modifiedOn:1656125370766,modifiedBy:"system",moleculeId:"6281d26c19543e000196a13c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b2c",projectId:"62b67770114bfa000114992a",smiles:"O1C=C[C@H]([C@H]1O2)c3c2cc(OC)c4c3OC(=O)C5=C4CCC(=O)5",confidence:182e-7,confidenceTag:null,rclass:"Mitsunobu aryl ether synthesis",hasFeedback:!1,feedback:null,children:[{id:"62b677ba114bfa0001149b2d",metadata:{},embed:{},computedFields:{},createdOn:1656125370728,createdBy:"system",modifiedOn:1656125370728,modifiedBy:"system",moleculeId:"6281d54019543e000196a688",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b2c",projectId:"62b67770114bfa000114992a",smiles:"COc1cc(O)c(C2C=COC2O)c2oc(=O)c3c(c12)CCC3=O",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#ce4e04",molecule2expandable:!0,molecule2commercial:!1},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1},{id:"62b677ba114bfa0001149b2e",metadata:{},embed:{},computedFields:{},createdOn:1656125370744,createdBy:"system",modifiedOn:1656125370744,modifiedBy:"system",moleculeId:"5eb283f0759cc0000174eac3",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b2c",projectId:"62b67770114bfa000114992a",smiles:"Cc1ccc(S(=O)(=O)O)cc1",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0},{id:"62b677ba114bfa0001149b2f",metadata:{},embed:{},computedFields:{},createdOn:1656125370759,createdBy:"system",modifiedOn:1656125370759,modifiedBy:"system",moleculeId:"5eb27df7759cc0000174de6c",retrosynthesisId:"62b677b0114bfa0001149abb",sequenceId:"62b677ba114bfa0001149b2c",projectId:"62b67770114bfa000114992a",smiles:"Cc1ccccc1",confidence:0,confidenceTag:null,rclass:"Undefined",hasFeedback:!1,feedback:null,children:[],metaData:{borderColor:"#28a30d"},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!0}],metaData:{molecule2commercial:!1,molecule2expandable:!0},isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!0,isCommercial:!1}]),z=(A([{id:"62c92c199e95c400015fb18c",metadata:{},embed:{},computedFields:{},createdOn:1657351193810,createdBy:"system",modifiedOn:1657351193810,modifiedBy:"system",moleculeId:"62c92c199e95c400015fb188",retrosynthesisId:"62c92bba9e95c400015fae74",sequenceId:"62c92c199e95c400015fb18a",projectId:"62c92b7b9e95c400015fac8e",smiles:"CC(C)(O1)C[C@@H](O)[C@@]1(O2)[C@@H](C)[C@@H]3CC=C4[C@]3(C2)C(=O)C[C@H]5[C@H]4CC[C@@H](C6)[C@]5(C)Cc(n7)c6nc(C[C@@]89(C))c7C[C@@H]8CC[C@@H]%10[C@@H]9C[C@@H](O)[C@@]%11(C)C%10=C[C@H](O%12)[C@]%11(O)[C@H](C)[C@]%12(O%13)[C@H](O)C[C@@]%13(C)CO",confidence:0,confidenceTag:null,rclass:"Unrecognized",hasFeedback:!1,feedback:null,children:[{id:"62c92c199e95c400015fb18b",metadata:{},embed:{},computedFields:{},createdOn:1657351193788,createdBy:"system",modifiedOn:1657351193788,modifiedBy:"system",moleculeId:"608415c74fe8920001a0149b",retrosynthesisId:"62c92bba9e95c400015fae74",sequenceId:"62c92c199e95c400015fb18a",projectId:"62c92b7b9e95c400015fac8e",smiles:"C[C@@H]1[C@]2(O[C@H]3C=C4[C@@H]5CC[C@H]6Cc7nc8c(nc7C[C@]6(C)[C@H]5C[C@@H](O)[C@]4(C)[C@]31O)C[C@@H]1CC[C@H]3C4=CC[C@H]5[C@H](C)[C@@]6(OC[C@]45C(=O)C[C@@H]3[C@@]1(C)C8)OC(C)(C)C[C@H]6O)O[C@](C)(CO)C[C@H]2O",confidence:1,confidenceTag:null,rclass:"",hasFeedback:!1,feedback:null,children:[],metaData:{artifact:!0,count:1,borderColor:"#990000"},count:1,custom:!1,isConfidenceComputed:!0,isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!1,isDeletable:!1,isChildrenEditable:!1,isChildrenDeletable:!1}],metaData:{borderColor:"#990000"},count:null,custom:!1,isConfidenceComputed:!0,isFromFile:!1,isTouched:!1,isThermal:!1,isPhotochemical:!1,isExpandable:!1,isEditable:!1,isCommercial:!1,isDeletable:!1,isChildrenEditable:!1,isChildrenDeletable:!1}]),function(e){Object(h.a)(i,e);var t=Object(m.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){this.props.updateRouteCount(D.length);var e=this.props.renderRoute,t={x:200,y:240},i={width:t.x,height:t.y,x:20,y:30};return this.props.updateDisplayedTree(D[e]),Object(w.jsx)(C.a,{data:D[e],translate:{x:500,y:20},nodeSize:t,orientation:"vertical",separation:{siblings:1.1},renderCustomNodeElement:function(e){return F(Object(j.a)(Object(j.a)({},e),{},{foreignObjectProps:i}))}})}}]),i}(a.a.Component)),P=Object(n.createContext)({targetMolecule:"",updateTargetMolecule:function(){},constraints:{},updateConstraints:function(){},treeData:{},updateTreeData:function(){},treeGraph:{},updateTreeGraph:function(){},revisePromise:{},updateRevisePromise:function(){},confidence:-1,updateConfidence:function(){},serverIp:""}),L=i(724),R=[{i:"a",x:0,y:0,w:50,h:2,static:!0},{i:"b",x:0,y:2,w:60,h:19,static:!0},{i:"c",x:0,y:21,w:30,h:2,static:!0},{i:"d",x:30,y:21,w:30,h:2,static:!0},{i:"e",x:50,y:0,w:10,h:2,static:!0}],N=[{i:"a",x:0,y:0,w:50,h:2,static:!0},{i:"b",x:0,y:2,w:50,h:19,static:!0},{i:"c",x:0,y:21,w:30,h:2,static:!0},{i:"d",x:30,y:21,w:20,h:2,static:!0},{i:"e",x:50,y:0,w:10,h:2,static:!0},{i:"f",x:50,y:2,w:10,h:21,static:!0}],H=[{i:"a",x:10,y:0,w:40,h:2,static:!0},{i:"b",x:10,y:2,w:50,h:19,static:!0},{i:"c",x:10,y:21,w:20,h:2,static:!0},{i:"d",x:30,y:21,w:30,h:2,static:!0},{i:"e",x:50,y:0,w:10,h:2,static:!0},{i:"g",x:0,y:0,w:10,h:21,static:!0}],W=(n.Component,i(42)),U=i(96),V=i(16),q=i(733),Z=i(728),G=i(734),J=i(723),Y=i(732),_=Object(V.a)(Y.a)(M||(M=Object(U.a)(["\n  width: 42px;\n"]))),K=!1,X=function(e){Object(h.a)(i,e);var t=Object(m.a)(i);function i(e){var c;return Object(o.a)(this,i),(c=t.call(this,e)).label=void 0,c.lowerLimit=void 0,c.higherLimit=void 0,c.callback=void 0,c.state={value:e.defaultValue},c.label=e.label,c.lowerLimit=e.lowerLimit,c.higherLimit=e.higherLimit,c.callback=e.callback,c.handleSliderChange=c.handleSliderChange.bind(Object(b.a)(c)),c.handleInputChange=c.handleInputChange.bind(Object(b.a)(c)),c.handleBlur=c.handleBlur.bind(Object(b.a)(c)),c}return Object(u.a)(i,[{key:"componentDidUpdate",value:function(e,t){this.state.value!==t.value&&this.callback(this.props.label,this.state.value)}},{key:"handleSliderChange",value:function(e,t){this.setState({value:t}),K=!0}},{key:"handleInputChange",value:function(e){this.setState({value:""===e.target.value?"":Math.round(Number(e.target.value))}),K=!0}},{key:"handleBlur",value:function(){var e=this.state.value;e<this.props.lowerLimit?this.setState({value:this.props.lowerLimit}):e>this.props.higherLimit&&this.setState({value:this.props.higherLimit})}},{key:"UNSAFE_componentWillMount",value:function(){K=!1}},{key:"render",value:function(){var e=this,t=1e3===this.props.higherLimit?"USD per g/mL":"";return Object(w.jsx)(q.a,{children:Object(w.jsxs)(Z.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap",children:[Object(w.jsx)(Z.a,{item:!0,xs:4,children:Object(w.jsx)(G.a,{children:this.props.label})}),Object(w.jsx)(Z.a,{item:!0,xs:1,children:Object(w.jsx)(G.a,{children:this.props.lowerLimit})}),Object(w.jsx)(Z.a,{item:!0,xs:!0,children:Object(w.jsx)(J.a,{value:"number"===typeof this.state.value?this.state.value:0,onChange:function(t,i){return e.handleSliderChange(t,i)},"aria-labelledby":"input-slider",min:this.props.lowerLimit,max:this.props.higherLimit,step:(this.props.label,1)})}),Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(G.a,{children:this.props.higherLimit})}),Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(_,{value:K?this.state.value:this.props.defaultValue,size:"small",onChange:this.handleInputChange,onBlur:this.handleBlur,inputProps:{min:this.props.lowerLimit,max:this.props.higherLimit,step:(this.props.label,1),type:"number","aria-labelledby":"input-slider"}})}),Object(w.jsx)(Z.a,{item:!0,xs:2,children:Object(w.jsx)(G.a,{children:t})})]})})}}]),i}(n.Component),Q=i(720),$=["children"],ee=function(e){var t=e.children,i=Object(W.a)(e,$);return Object(w.jsxs)("label",{style:{marginRight:"1em"},children:[Object(w.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox"},i),{},{style:{marginRight:"5px",opacity:"1",position:"initial"}})),t]})},te=(Object(V.a)("input")({display:"none"}),function(e){Object(h.a)(i,e);var t=Object(m.a)(i);function i(e){var c;return Object(o.a)(this,i),(c=t.call(this,e)).toggleAll=function(){c.setState((function(e){return{isAll:!e.isAll}})),c.state.isAll?(c.state.isPrice&&c.togglePrice(),c.state.isStep&&c.toggleStep(),c.state.isSubstructure&&c.toggleSubstructure(),c.state.isMolecule&&c.toggleMolecule()):(c.state.isPrice||c.togglePrice(),c.state.isStep||c.toggleStep(),c.state.isSubstructure||c.toggleSubstructure(),c.state.isMolecule||c.toggleMolecule())},c.togglePrice=function(){c.setState((function(e){return{isPrice:!e.isPrice,price:1e3}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.toggleStep=function(){c.setState((function(e){return{isStep:!e.isStep,mssr:3}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.toggleSubstructure=function(){c.setState((function(e){return{isSubstructure:!e.isSubstructure,excludeSubstructure:null}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.toggleMolecule=function(){c.setState((function(e){return{isMolecule:!e.isMolecule,excludeSmiles:null}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.state={price:1e3,mssr:3,excludeSubstructure:null,excludeSmiles:null,isAll:!1,isPrice:!1,isStep:!1,isSubstructure:!1,isMolecule:!1},c.constraintInputCallback=c.constraintInputCallback.bind(Object(b.a)(c)),e.updateConstraintFromPanel(c.state.price,c.state.mssr,c.state.excludeSubstructure,c.state.excludeSmiles),c}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var e=this.state.isPrice?this.state.price:null,t=this.state.isStep?this.state.mssr:null,i=this.state.isSubstructure&&""!==this.state.excludeSubstructure?this.state.excludeSubstructure:null,c=this.state.isMolecule&&""!==this.state.excludeSmiles?this.state.excludeSmiles:null;this.props.updateConstraintFromPanel(e,t,i,c)}},{key:"componentDidUpdate",value:function(e,t,i){if(this.state!=t){var c=this.state.isPrice?this.state.price:null,n=this.state.isStep?this.state.mssr:null,a=this.state.isSubstructure&&""!==this.state.excludeSubstructure?this.state.excludeSubstructure:null,s=this.state.isMolecule&&""!==this.state.excludeSmiles?this.state.excludeSmiles:null;this.props.updateConstraintFromPanel(c,n,a,s)}}},{key:"constraintInputCallback",value:function(e,t){"Price Threshold for Molecules"===e?this.setState({price:Number(t)}):"Maximum Retrosynthetic Steps"===e&&this.setState({mssr:Number(t)})}},{key:"handleTextFieldChange",value:function(e,t){"substructure"===t?this.setState({excludeSubstructure:e.target.value}):"smiles"===t&&this.setState({excludeSmiles:e.target.value})}},{key:"render",value:function(){var e=this,t=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Price Threshold for Molecules",lowerLimit:1,higherLimit:1e3,defaultValue:1e3,callback:this.constraintInputCallback,id:1},1)}),i=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Maximum Retrosynthetic Steps",lowerLimit:2,higherLimit:15,defaultValue:3,callback:this.constraintInputCallback,id:2},2)}),c=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(Q.a,{fullWidth:!0,id:"outlined-read-only-input",label:"Exclude Substructure ( please input substructure smiles, seperate with '.' )",onChange:function(t){return e.handleTextFieldChange(t,"substructure")}})}),n=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(Q.a,{fullWidth:!0,id:"outlined-read-only-input",label:"Exclude Molecule ( please input molecule smiles, seperate with '.' )",onChange:function(t){return e.handleTextFieldChange(t,"smiles")}})}),a=[];return this.state.isPrice&&a.push(t),this.state.isStep&&a.push(i),this.state.isSubstructure&&a.push(c),this.state.isMolecule&&a.push(n),Object(w.jsxs)(Z.a,{container:!0,spacing:2,wrap:"nowrap",flexDirection:"column",children:[Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsxs)("div",{style:{display:"inline-block",fontSize:17,marginTop:"1em"},children:[Object(w.jsx)(ee,{checked:this.state.isPrice,onChange:this.togglePrice,children:"Price Threshold"}),Object(w.jsx)(ee,{checked:this.state.isStep,onChange:this.toggleStep,children:"Maximum Steps"}),Object(w.jsx)(ee,{checked:this.state.isSubstructure,onChange:this.toggleSubstructure,children:"Exclude Substructure(s)"}),Object(w.jsx)(ee,{checked:this.state.isMolecule,onChange:this.toggleMolecule,children:"Exclude Molecule(s)"})]})}),a]})}}]),i}(a.a.Component)),ie=i(15),ce=i(9),ne=i(722),ae=i(729),se=i(736),le=i(200),de=i(719),re=i(71),oe=i(116);i.p,i.p,i.p,i.p;re.a.registerNode("retroTreeNode",{drawShape:function(e,t){var i="",c="pointer",n=!1,a=!1;"reviseSelected"in e&&e.reviseSelected&&(a=!0),"root"in e&&e.root&&(c="default"),"isAvailable"in e&&(i=e.isAvailable),"notAvailable"in e&&e.notAvailable&&(i=!1,n=!0);var s="white";!0===i&&""!==i?s="rgb(40, 163, 13":!1===i&&""!==i&&(s="rgb(206, 78, 4)",c="default",!0===n&&(s="blue"));var l=!1;"children"in e&&e.children.length>0&&(l=!0);var d=!1;if("AIFailed"in e&&e.AIFailed&&(d=!0),"blue"!==s?t.addShape("rect",{attrs:{width:136,height:117,stroke:s,lineWidth:2,radius:[0],justifyContent:"center",fill:"white"},name:"container"}):t.addShape("rect",{attrs:{width:136,height:117,stroke:s,lineWidth:3,radius:[0],justifyContent:"center",fill:"white"},name:"container"}),"white"===s?t.addShape("rect",{attrs:{width:136,height:117,stroke:"grey",lineWidth:2,radius:[0],justifyContent:"center"},name:"Image"}):(t.addShape("rect",{attrs:{width:136,height:117,lineWidth:2,radius:[0],justifyContent:"center"},name:"Image"}),t.addShape("path",{attrs:{stroke:s,path:[["M",0,117],["L",136,117],["Z"]]},name:"connectLine",lineWidth:2})),"imageSource"in e&&""!==e.imageSource?t.addShape("image",{attrs:{x:1,y:1,width:134,height:115,cursor:c,img:e.imageSource},name:"molecule"}):window.initRDKitModule().then((function(i){var n,a=e.smiles,s=i.get_mol(a).get_svg(),l=(n=s,(new DOMParser).parseFromString(n,"image/svg+xml").lastChild);l.setAttribute("height","115"),l.setAttribute("width","134");(new XMLSerializer).serializeToString(l);var d=btoa(s),r="data:image/svg+xml;base64,".concat(d);t.addShape("image",{attrs:{x:1,y:1,width:134,height:115,cursor:c,img:r},name:"molecule"}),e.imageSource=r})).catch((function(e){console.log("rdkit error",e)})),(l||d)&&"isAI"in e==0||0==e.isAI){t.addShape("rect",{attrs:{y:137,width:136,height:20,radius:[10],justifyContent:"center",fill:a?"#ffcc66":"#0f62fe"},name:"Buttons"});var r=4,o=120;d?(r=1.1,o=118):l&&e.children.forEach((function(e){"isAI"in e&&1==e.isAI&&(r=1.1,o=118)})),t.addShape("path",{attrs:{stroke:"#0f62fe",lineWidth:r,path:[["M",68,137],["L",68,o],["Z"]]},name:"connectLine"}),t.addShape("path",{attrs:{stroke:"#0f62fe",lineWidth:r,path:[["M",74,125],["L",68,o],["L",62,125],["Z"]],fill:"#0f62fe"},name:"connectLineArrowLeft"}),t.addShape("rect",{attrs:{x:45,y:138,width:20,justifyContent:"center"},name:"deleteButtonContainer"}),t.addShape("image",{attrs:{x:40,y:138,width:19,height:19,img:"data:image/svg+xml;base64,PHN2ZyBmb2N1c2FibGU9ImZhbHNlIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDMyIDMyIiBhcmlhLWhpZGRlbj0idHJ1ZSIgc3R5bGU9IndpbGwtY2hhbmdlOiB0cmFuc2Zvcm07Ij4KICAgICAgICAgICAgICA8cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTIgMjdoMjh2Mkgyek0yNS40MSA5YTIgMiAwIDAgMCAwLTIuODNsLTMuNTgtMy41OGEyIDIgMCAwIDAtMi44MyAwbC0xNSAxNVYyNGg2LjQxem0tNS01TDI0IDcuNTlsLTMgM0wxNy40MSA3ek02IDIydi0zLjU5bDEwLTEwTDE5LjU5IDEybC0xMCAxMHoiLz4KICAgICAgICAgICAgPC9zdmc+"},name:"deleteButton"}),t.addShape("rect",{attrs:{x:75,y:138,width:20,height:15,justifyContent:"center"},name:"expandButtonContainer"}),t.addShape("image",{attrs:{x:80,y:138,width:19,height:19,img:"data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgICAgICAgICAgIDxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDpub25lO308L3N0eWxlPjwvZGVmcz4KICAgICAgICAgICAgICA8cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTI4LDEyYTIsMiwwLDAsMCwyLTJWNGEyLDIsMCwwLDAtMi0ySDRBMiwyLDAsMCwwLDIsNHY2YTIsMiwwLDAsMCwyLDJIMTV2NEg5YTIsMiwwLDAsMC0yLDJ2NEg0YTIsMiwwLDAsMC0yLDJ2NGEyLDIsMCwwLDAsMiwyaDhhMiwyLDAsMCwwLDItMlYyNGEyLDIsMCwwLDAtMi0ySDlWMThIMjN2NEgyMGEyLDIsMCwwLDAtMiwydjRhMiwyLDAsMCwwLDIsMmg4YTIsMiwwLDAsMCwyLTJWMjRhMiwyLDAsMCwwLTItMkgyNVYxOGEyLDIsMCwwLDAtMi0ySDE3VjEyWk0xMiwyOEg0VjI0aDhabTE2LDBIMjBWMjRoOFpNNCw0SDI4djZINFoiLz4KICAgICAgICAgICAgICA8cmVjdCBpZD0iX1RyYW5zcGFyZW50X1JlY3RhbmdsZV8iIGRhdGEtbmFtZT0iJmx0O1RyYW5zcGFyZW50IFJlY3RhbmdsZSZndDsiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIi8+CiAgICAgICAgICAgIDwvc3ZnPg=="},name:"expandButton"})}return t},afterDraw:function(e,t){if("failureNodeSelected"in e&&e.failureNodeSelected){var i=136,c=117,n=t.addShape("rect",{zIndex:-2,attrs:{x:0,y:0,width:i,height:c,fill:"#31a4cd",opacity:.6},name:"circle-shape2"}),a=t.addShape("rect",{zIndex:-1,attrs:{x:0,y:0,width:i,height:c,fill:"#31a4cd",opacity:.6},name:"circle-shape3"}),s=t.addShape("rect",{zIndex:-3,attrs:{x:0,y:0,width:i,height:c,fill:"#31a4cd",opacity:.6},name:"circle-shape4"}),l=t.addShape("rect",{zIndex:-4,attrs:{x:0,y:0,width:i,height:c,fill:"#31a4cd",opacity:.6},name:"circle-shape5"});t.sort(),n.animate({width:176,height:157,x:-20,y:-20,opacity:.2},{repeat:!0,duration:1e3,easing:"easeCubic",delay:0}),a.animate({width:176,height:157,x:-20,y:-20,opacity:.2},{repeat:!0,duration:1e3,easing:"easeCubic",delay:250}),s.animate({width:176,height:157,x:-20,y:-20,opacity:.2},{repeat:!0,duration:1e3,easing:"easeCubic",delay:500}),l.animate({width:176,height:157,x:-20,y:-20,opacity:.2},{repeat:!0,duration:1e3,easing:"easeCubic",delay:750})}},getAnchorPoints:function(){return[[.5,0],[.5,1]]}},"single-node"),re.a.registerEdge("retroTreeEdge",{draw:function(e,t){var i=e.startPoint,c=e.endPoint;return t.addShape("path",{attrs:{path:[["M",i.x,i.y],["L",i.x,(i.y+c.y)/2],["L",c.x,(i.y+c.y)/2],["L",c.x,c.y]],lineWidth:1},className:"edge-shape",name:"edge-shape"})},afterDraw:function(e,t){var i=t.get("children")[0],c=(e.startPoint,e.endPoint,e.sourceNode.getModel()),n=e.targetNode.getModel();if("reviseSelected"in c&&c.reviseSelected){i.attr("stroke","#ffcc66"),i.attr("lineWidth",4);var a=i.getTotalLength();i.animate((function(e){var t=e*a;return{lineDash:[t,a-t]}}),{repeat:!1,duration:1200})}else i.attr("stroke","#0f62fe"),"isAI"in c!=0&&0!=c.isAI||"isAI"in n!=0&&0!=n.isAI||i.attr("lineWidth",4)}});var ue=i(66),be=(i(629),i(145)),he=i(726),me=i(117),fe=i(416),pe=i.n(fe),xe=i(735),je=i(399);function ge(e){var t=Object(n.useState)(!0),i=Object(ie.a)(t,2),c=i[0],a=(i[1],Object(n.useContext)(P));return Object(w.jsx)(ne.a,{id:"modal",show:c,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"50%",textAlign:"left",padding:"10px 20px"},children:Object(w.jsx)("text",{style:{fontSize:"40px"},children:"Delete"})}),Object(w.jsx)("div",{style:{height:"50%",textAlign:"left",padding:"10px 20px",paddingBottom:"30px",paddingLeft:"22px"},children:Object(w.jsx)("text",{style:{fontSize:"20px"},children:"Do you really want to delete this molecule and all the children of it?"})}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#4c4c4c",border:"none",borderRadius:"0px"},onClick:function(){(0,e.setModelArr)([])},children:"Cancel"}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#d91e27",border:"none"},onClick:function(){var t=e.model,i=e.graph,c=e.setSideButtonVisibility,n=e.setModelArr;if(t.children)for(;0!=t.children.length;)i.removeChild(t.children[0].id);i.removeChild(t.id),a.updateTreeData(i.cfg.data),i.read(i.cfg.data),c("hidden"),n([])},children:"Delete"})]})})}function Ce(e){var t=Object(n.useState)(!0),i=Object(ie.a)(t,2),c=i[0],a=(i[1],Object(n.useContext)(P));return Object(w.jsx)(ne.a,{id:"modal",show:c,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"50%",textAlign:"left",padding:"10px 20px",paddingTop:"20px"},children:Object(w.jsx)("text",{style:{fontSize:"35px"},children:"Edit reaction"})}),Object(w.jsx)("div",{style:{height:"50%",textAlign:"left",padding:"10px 20px",paddingBottom:"30px",paddingLeft:"22px"},children:Object(w.jsx)("text",{style:{fontSize:"20px"},children:"By modifying this reaction the associated subtree will be lost once edited."})}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#4c4c4c",border:"none",borderRadius:"0px"},onClick:function(){(0,e.setModelArr)([])},children:"Cancel"}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#2867f3",border:"none"},onClick:function(){var t=e.model,i=e.graph,c=e.setSideButtonVisibility,n=e.setModelArr;t.children&&(i.updateChildren([],t.id),a.updateTreeData(i.cfg.data),i.render(),t.children=[]),"handledByAI"in t&&1==t.handledByAI&&(t.handledByAI=!1),"AIFailed"in t&&1==t.AIFailed&&(t.AIFailed=!1),document.getElementById("drawBoardText").innerHTML="Please edit the reaction.",document.getElementById("drawBoardButton").innerHTML="Save changes",document.getElementById("drawBoardButton").style.width="200px",document.getElementById("drawBoardButton").style.left="80%",window.ketcher.setMolecule(t.smiles),document.getElementById("drawBoard").style.visibility="visible",document.getElementById("drawBoard").style.zIndex=2,document.getElementById("main").style.zIndex=-1,c("hidden"),n([])},children:"Proceed"})]})})}function ye(e){var t=Object(n.useState)(!0),i=Object(ie.a)(t,2),c=i[0],a=(i[1],Object(n.useContext)(P));return Object(w.jsx)(ne.a,{id:"modal",show:c,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"50%",textAlign:"left",padding:"10px 20px",paddingTop:"20px"},children:Object(w.jsx)("text",{style:{fontSize:"35px"},children:"Edit molecule"})}),Object(w.jsx)("div",{style:{height:"50%",textAlign:"left",padding:"10px 20px",paddingBottom:"30px",paddingLeft:"22px"},children:Object(w.jsx)("text",{style:{fontSize:"20px"},children:"By modifying this molecule the associated subtree will be lost once edited."})}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#4c4c4c",border:"none",borderRadius:"0px"},onClick:function(){(0,e.setModelArr)([])},children:"Cancel"}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#2867f3",border:"none"},onClick:function(){var t=e.model,i=e.graph,c=e.setSideButtonVisibility,n=e.setModelArr;t.children&&(i.updateChildren([],t.id),a.updateTreeData(i.cfg.data),i.render()),document.getElementById("editMoleculeText").innerHTML="Please edit the molecule.",document.getElementById("ifKetcher2").contentWindow.ketcher.setMolecule(t.smiles),document.getElementById("editMolecule").style.zIndex=10,document.getElementById("editMolecule").style.visibility="visible",document.getElementById("drawBoard").style.visibility="hidden",document.getElementById("main").style.zIndex=-1,c("hidden"),n([])},children:"Proceed"})]})})}var Oe=["children"],ve=function(e){var t=e.children,i=Object(W.a)(e,Oe);return Object(w.jsxs)("label",{style:{marginRight:"1em"},children:[Object(w.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox"},i),{},{style:{marginRight:"5px",opacity:"1",position:"initial"}})),t]})},Ie=(Object(V.a)("input")({display:"none"}),function(e){Object(h.a)(i,e);var t=Object(m.a)(i);function i(e){var c;return Object(o.a)(this,i),(c=t.call(this,e)).toggleAll=function(){c.setState((function(e){return{isAll:!e.isAll}})),c.state.isAll?(c.state.isPrice&&c.togglePrice(),c.state.isStep&&c.toggleStep(),c.state.isSubstructure&&c.toggleSubstructure(),c.state.isMolecule&&c.toggleMolecule()):(c.state.isPrice||c.togglePrice(),c.state.isStep||c.toggleStep(),c.state.isSubstructure||c.toggleSubstructure(),c.state.isMolecule||c.toggleMolecule())},c.togglePrice=function(){c.setState((function(e){return{isPrice:!e.isPrice,price:1e3}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.toggleStep=function(){c.setState((function(e){return{isStep:!e.isStep,mssr:3}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.toggleSubstructure=function(){c.setState((function(e){return{isSubstructure:!e.isSubstructure,excludeSubstructure:null}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.toggleMolecule=function(){c.setState((function(e){return{isMolecule:!e.isMolecule,excludeSmiles:null}})),c.state.isAll&&c.setState((function(e){return{isAll:!e.isAll}}))},c.state={price:"price"in e.currentConstraints&&null!==e.currentConstraints.price?e.currentConstraints.price:1e3,mssr:"mssr"in e.currentConstraints&&null!==e.currentConstraints.mssr?e.currentConstraints.mssr:3,excludeSubstructure:"excludeSubstructure"in e.currentConstraints&&null!==e.currentConstraints.excludeSubstructure?e.currentConstraints.excludeSubstructure:null,excludeSmiles:"excludeSmiles"in e.currentConstraints&&null!=e.currentConstraints.excludeSmiles?e.currentConstraints.excludeSmiles:null,isAll:!1,isPrice:"price"in e.currentConstraints&&null!==e.currentConstraints.price,isStep:"mssr"in e.currentConstraints&&null!==e.currentConstraints.mssr,isSubstructure:"excludeSubstructure"in e.currentConstraints&&null!==e.currentConstraints.excludeSubstructure,isMolecule:"excludeSmiles"in e.currentConstraints&&null!==e.currentConstraints.excludeSmiles},c.constraintInputCallback=c.constraintInputCallback.bind(Object(b.a)(c)),c}return Object(u.a)(i,[{key:"componentDidUpdate",value:function(e,t,i){if(this.state!=t){var c=this.state.isPrice?this.state.price:null,n=this.state.isStep?this.state.mssr:null,a=this.state.isSubstructure&&""!==this.state.excludeSubstructure?this.state.excludeSubstructure:null,s=this.state.isMolecule&&""!==this.state.excludeSmiles?this.state.excludeSmiles:null;this.props.updateConstraintFromPanel(c,n,a,s)}}},{key:"constraintInputCallback",value:function(e,t){"Price Threshold for Molecules"===e?this.setState({price:Number(t)}):"Maximum Retrosynthetic Steps"===e&&this.setState({mssr:Number(t)})}},{key:"handleTextFieldChange",value:function(e,t){"substructure"===t?this.setState({excludeSubstructure:e.target.value}):"smiles"===t&&this.setState({excludeSmiles:e.target.value})}},{key:"render",value:function(){var e=this,t=(this.props.currentConstraints,Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Price Threshold for Molecules",lowerLimit:1,higherLimit:1e3,defaultValue:this.state.price,callback:this.constraintInputCallback,id:1},1)})),i=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Maximum Retrosynthetic Steps",lowerLimit:2,higherLimit:15,defaultValue:this.state.mssr,callback:this.constraintInputCallback,id:2},2)}),c=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(Q.a,{fullWidth:!0,id:"outlined-read-only-input",label:"Exclude Substructure ( please input substructure smiles, seperate with '.' )",onChange:function(t){return e.handleTextFieldChange(t,"substructure")},value:this.state.excludeSubstructure})}),n=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(Q.a,{fullWidth:!0,id:"outlined-read-only-input",label:"Exclude Molecule ( please input molecule smiles, seperate with '.' )",onChange:function(t){return e.handleTextFieldChange(t,"smiles")},value:this.state.excludeSmiles})}),a=[];return this.state.isPrice&&a.push(t),this.state.isStep&&a.push(i),this.state.isSubstructure&&a.push(c),this.state.isMolecule&&a.push(n),Object(w.jsxs)(Z.a,{container:!0,spacing:2,wrap:"nowrap",flexDirection:"column",children:[Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsxs)("div",{style:{display:"inline-block",fontSize:17,marginTop:"1em"},children:[Object(w.jsx)(ve,{checked:this.state.isPrice,onChange:this.togglePrice,children:"Price Threshold"}),Object(w.jsx)(ve,{checked:this.state.isStep,onChange:this.toggleStep,children:"Maximum Steps"}),Object(w.jsx)(ve,{checked:this.state.isSubstructure,onChange:this.toggleSubstructure,children:"Exclude Substructure(s)"}),Object(w.jsx)(ve,{checked:this.state.isMolecule,onChange:this.toggleMolecule,children:"Exclude Molecule(s)"})]})}),a]})}}]),i}(a.a.Component)),Se=i(177),we=i.n(Se),Be=i(731),ke=i(721),Te=i(113),Fe=["children"],Ee=function(e){var t=e.children,i=Object(W.a)(e,Fe);return Object(w.jsxs)("label",{style:{marginRight:"1em"},children:[Object(w.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox"},i),{},{style:{marginRight:"5px",opacity:"1",position:"initial"}})),t]})},Ae=!1,Me=function(e){Object(h.a)(i,e);var t=Object(m.a)(i);function i(e){var c;return Object(o.a)(this,i),(c=t.call(this,e)).toggleInfluence=function(){console.log("state",c.state),c.setState((function(e){return{isInfluence:!e.isInfluence,influence:0==e.isInfluence&&null==e.influence?0:e.influence}}))},c.toggleComplexity=function(){c.setState((function(e){return{isComplexity:!e.isComplexity,complexity:0==e.isComplexity&&null==e.complexity?0:e.complexity}}))},c.toggleConvergence=function(){c.setState((function(e){return{isConvergence:!e.isConvergence,convergence:0==e.isConvergence&&null==e.convergence?0:e.convergence}}))},c.toggleReactionConfidence=function(){c.setState((function(e){return{isReactionConfidence:!e.isReactionConfidence,reactionConfidence:0==e.isReactionConfidence&&null==e.reactionConfidence?0:e.reactionConfidence}}))},c.toggleAssociatedSubtreeConfidence=function(){c.setState((function(e){return{isAssociatedSubtreeConfidence:!e.isAssociatedSubtreeConfidence,associatedSubtreeConfidence:0==e.isAssociatedSubtreeConfidence&&null==e.associatedSubtreeConfidence?0:e.associatedSubtreeConfidence}}))},c.state={influence:"influence"in e.currentWeights&&e.currentWeights.influence?e.currentWeights.influence:null,complexity:"complexity"in e.currentWeights&&e.currentWeights.complexity?e.currentWeights.complexity:null,convergence:"convergence"in e.currentWeights&&e.currentWeights.convergence?e.currentWeights.convergence:null,reactionConfidence:"reactionConfidence"in e.currentWeights&&e.currentWeights.reactionConfidence?e.currentWeights.reactionConfidence:null,associatedSubtreeConfidence:"associatedSubtreeConfidence"in e.currentWeights&&e.currentWeights.associatedSubtreeConfidence?e.currentWeights.associatedSubtreeConfidence:null,isInfluence:"influence"in e.currentWeights&&null!==e.currentWeights.influence&&-1!==e.currentWeights.influence,isComplexity:"complexity"in e.currentWeights&&null!==e.currentWeights.complexity&&-1!==e.currentWeights.complexity,isConvergence:"convergence"in e.currentWeights&&null!==e.currentWeights.convergence&&-1!==e.currentWeights.convergence,isReactionConfidence:"reactionConfidence"in e.currentWeights&&null!==e.currentWeights.reactionConfidence&&-1!==e.currentWeights.reactionConfidence,isAssociatedSubtreeConfidence:"associatedSubtreeConfidence"in e.currentWeights&&null!==e.currentWeights.associatedSubtreeConfidence&&-1!==e.currentWeights.associatedSubtreeConfidence},c.weightInputCallback=c.weightInputCallback.bind(Object(b.a)(c)),c}return Object(u.a)(i,[{key:"componentDidUpdate",value:function(e,t,i){this.state!=t&&this.props.updateWeightFromPanel(this.state.isInfluence?this.state.influence:null,this.state.isComplexity?this.state.complexity:null,this.state.isConvergence?this.state.convergence:null,this.state.isReactionConfidence?this.state.reactionConfidence:null,this.state.isAssociatedSubtreeConfidence?this.state.associatedSubtreeConfidence:null)}},{key:"weightInputCallback",value:function(e,t){"Influence"===e?this.setState({influence:Number(t)}):"Complexity"===e?this.setState({complexity:Number(t)}):"Convergence"===e?this.setState({convergence:Number(t)}):"Reaction Confidence"===e?this.setState({reactionConfidence:Number(t)}):"Associated Subtree Confidence"===e&&this.setState({associatedSubtreeConfidence:Number(t)})}},{key:"componentDidMount",value:function(){Ae=!0}},{key:"render",value:function(){var e=this.props.currentWeights,t=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Influence",lowerLimit:0,higherLimit:100,defaultValue:Ae?this.state.influence:e.influence,callback:this.weightInputCallback})}),i=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Complexity",lowerLimit:0,higherLimit:100,defaultValue:Ae?this.state.complexity:e.complexity,callback:this.weightInputCallback})}),c=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Convergence",lowerLimit:0,higherLimit:100,defaultValue:Ae?this.state.convergence:e.convergence,callback:this.weightInputCallback})}),n=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Reaction Confidence",lowerLimit:0,higherLimit:100,defaultValue:Ae?this.state.reactionConfidence:e.reactionConfidence,callback:this.weightInputCallback})}),a=Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsx)(X,{label:"Associated Subtree Confidence",lowerLimit:0,higherLimit:100,defaultValue:Ae?this.state.associatedSubtreeConfidence:e.associatedSubtreeConfidence,callback:this.weightInputCallback})}),s=[];return this.state.isInfluence&&s.push(t),this.state.isComplexity&&s.push(i),this.state.isConvergence&&s.push(c),this.state.isReactionConfidence&&s.push(n),this.state.isAssociatedSubtreeConfidence&&s.push(a),Object(w.jsxs)(Z.a,{container:!0,spacing:2,wrap:"nowrap",flexDirection:"column",children:[Object(w.jsx)(Z.a,{item:!0,children:Object(w.jsxs)("div",{style:{display:"inline-block",fontSize:17,marginTop:"1em"},children:[Object(w.jsx)(Ee,{checked:this.state.isInfluence,onChange:this.toggleInfluence,children:"Influence"}),Object(w.jsx)(Ee,{checked:this.state.isComplexity,onChange:this.toggleComplexity,children:"Complexity"}),Object(w.jsx)(Ee,{checked:this.state.isConvergence,onChange:this.toggleConvergence,children:"Convergence"}),Object(w.jsx)(Ee,{checked:this.state.isReactionConfidence,onChange:this.toggleReactionConfidence,children:"Reaction Confidence"}),Object(w.jsx)(Ee,{checked:this.state.isAssociatedSubtreeConfidence,onChange:this.toggleAssociatedSubtreeConfidence,children:"Associated Subtree Confidence"})]})}),s]})}}]),i}(a.a.Component),De=i(400);function ze(e){var t=Object(n.useState)(!0),i=Object(ie.a)(t,2),c=i[0],a=(i[1],Object(n.useContext)(P));return Object(w.jsx)(ne.a,{id:"modal",show:c,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"40%",textAlign:"left",padding:"10px 20px",paddingTop:"20px",paddingBottom:"0px"},children:Object(w.jsx)("text",{style:{fontSize:"35px"},children:"Molecule Parsing Error"})}),Object(w.jsx)("div",{style:{height:"60%",textAlign:"left",padding:"10px 20px",paddingBottom:"30px",paddingLeft:"22px",paddingTop:"30px"},children:Object(w.jsx)("text",{style:{fontSize:"20px"},children:"The molecule of this reaction is not valid."})}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#6867f3",border:"none"},onClick:function(){var t=e.model,i=e.graph,c=e.setSideButtonVisibility,n=e.setModelArr;t.children&&(i.updateChildren([],t.id),a.updateTreeData(i.cfg.data),i.render()),document.getElementById("drawBoardText").innerHTML="Please edit the reaction.",document.getElementById("drawBoardButton").innerHTML="Save changes",document.getElementById("drawBoardButton").style.width="200px",document.getElementById("drawBoardButton").style.left="80%",window.ketcher.setMolecule(e.currentSmiles),document.getElementById("drawBoard").style.visibility="visible",document.getElementById("drawBoard").style.zIndex=2,document.getElementById("main").style.zIndex=-1,c("hidden"),n([])},children:"Edit reaction"}),Object(w.jsx)(je.a,{style:{width:"50%",height:"35%",backgroundColor:"#2867f3",border:"none"},onClick:function(){var t=e.model,i=e.graph,c=e.setSideButtonVisibility,n=e.setModelArr;t.children&&(i.updateChildren([],t.id),a.updateTreeData(i.cfg.data),i.render()),document.getElementById("drawBoardText").innerHTML="Please edit the reaction.",document.getElementById("drawBoardButton").innerHTML="Save changes",document.getElementById("drawBoardButton").style.width="200px",document.getElementById("drawBoardButton").style.left="80%",window.ketcher.setMolecule(t.smiles),document.getElementById("drawBoard").style.visibility="visible",document.getElementById("drawBoard").style.zIndex=2,document.getElementById("main").style.zIndex=-1,c("hidden"),n([])},children:"Redo reaction"})]})})}var Pe=i(725),Le=["className"],Re=null,Ne=null,He=null,We=null,Ue="",Ve="",qe=null,Ze=-1;function Ge(e){e}var Je=Object(V.a)((function(e){var t=e.className,i=Object(W.a)(e,Le);return Object(w.jsx)(he.a,Object(j.a)(Object(j.a)({},i),{},{classes:{popper:t}}))}))(Object(ce.a)({},"& .".concat(me.a.tooltip),{maxWidth:"none"})),Ye=window,_e=Ye.innerWidth,Ke=Ye.innerHeight/23,Xe=function(e){var t=Object(n.useState)(!0),i=Object(ie.a)(t,2),c=i[0],s=i[1],d=Object(n.useState)(!0),r=Object(ie.a)(d,2),o=r[0],u=r[1],b=Object(n.useState)([]),h=Object(ie.a)(b,2),m=h[0],f=h[1],p=Object(n.useState)([]),x=Object(ie.a)(p,2),j=x[0],g=x[1],C=Object(n.useState)([]),y=Object(ie.a)(C,2),O=y[0],v=y[1],I=Object(n.useState)("hidden"),S=Object(ie.a)(I,2),B=S[0],k=S[1],T=Object(n.useState)([]),F=Object(ie.a)(T,2),E=F[0],A=F[1],M=Object(n.useState)(e.constraints),D=Object(ie.a)(M,2),z=D[0],L=D[1],R=Object(n.useState)(e.constraints),N=Object(ie.a)(R,2),H=N[0],W=N[1],U=Object(n.useState)(!1),V=Object(ie.a)(U,2),Z=V[0],G=V[1],J=a.a.useState(),Y=Object(ie.a)(J,2)[1],_=a.a.useCallback((function(){return Y({})}),[]),K=Object(n.useState)({influence:null,complexity:null,convergence:null,reactionConfidence:null,associatedSubtreeConfidence:null}),X=Object(ie.a)(K,2),Q=X[0],$=X[1],ee=Object(n.useState)({influence:null,complexity:null,convergence:null,reactionConfidence:null,associatedSubtreeConfidence:null}),te=Object(ie.a)(ee,2),ce=te[0],le=te[1],he=Object(n.useState)(!1),me=Object(ie.a)(he,2),fe=me[0],je=me[1],Oe=Object(n.useState)(!1),ve=Object(ie.a)(Oe,2),Se=ve[0],Te=ve[1],Fe=Object(n.useState)(""),Ee=Object(ie.a)(Fe,2),Ae=Ee[0],Le=Ee[1],Ye=Object(n.useState)(!1),Xe=Object(ie.a)(Ye,2),$e=Xe[0],et=Xe[1],tt=Object(n.useState)(!1),it=Object(ie.a)(tt,2),ct=it[0],nt=it[1],at=Object(De.a)(),st=Object(ie.a)(at,2),lt=st[0],dt=st[1];lt.current=H,dt.current=ce;var rt=a.a.useRef(null),ot=Object(n.useContext)(P),ut=function(){setTimeout(bt,1e3)},bt=function(){var e=Ne,t=document.getElementById("smiles").innerHTML,i=t.split(".");window.initRDKitModule().then((function(c){var n="";if(i.forEach((function(e){0==c.get_mol(e).is_valid()&&(n=e)})),""!==n)A([Object(w.jsx)(ze,{model:e,graph:Re,setSideButtonVisibility:k,setModelArr:A,failureSmiles:n,currentSmiles:t})]);else{var a="";e.children=[],i.forEach((function(t){a="n-".concat(Math.random()),e.children.push({smiles:t,handledByAI:!0,id:a})})),Re.updateChildren(e.children,e.id),ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data);var s=lt.current;console.log("currentConstraints",s),Te(!0),Le("Analysing Reactants"),fetch(ot.serverIp.concat("checkRXN"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({graph:Re.cfg.data,constraints:s})}).then((function(e){return e.json()})).then((function(e){Te(!1),console.log("checkRXN_response",e),ot.updateTreeData(e),Re.read(e)})).catch((function(e){console.log("fetching error"),console.log(e)}))}})).catch((function(e){console.log("render error",e)}))},ht=function(){G(!0)},mt=Object(n.useState)({}),ft=Object(ie.a)(mt,2);ft[0],ft[1];return Object(n.useEffect)((function(){document.getElementById("drawBoardButton").addEventListener("click",ut),document.getElementById("constraintButton").addEventListener("click",ht);var e=ot.treeData;Re||(Re=new re.a.TreeGraph({container:l.a.findDOMNode(rt.current),modes:{default:[{type:"tooltip",formatText:function(e){return"handledByAI"in e&&1==e.handledByAI&&"AIRoutes"in e&&0!=e.AIRoutes.length?e.AIRoutes.length+" AI generated routes<br/>(Alternative "+(e.AIRoutesIndex+1)+" is currently displayed)":"No AI generated routes"},shouldBegin:function(e){return"expandButton"===e.target.get("name")},offset:10},{type:"tooltip",formatText:function(e){return"Edit reaction"},shouldBegin:function(e){return"deleteButton"===e.target.get("name")},offset:10},{type:"tooltip",formatText:function(e){return"Edit the molecule"},shouldBegin:function(e){return"editMolecule"===e.target.get("name")},offset:10},{type:"tooltip",formatText:function(e){return"Delete the molecule"},shouldBegin:function(e){return"deleteMolecule"===e.target.get("name")},offset:10},{type:"tooltip",formatText:function(e){return"Mark the molecule as <br/> not usable/accessible"},shouldBegin:function(e){var t=e.target;if(Re.cfg.data==e.item.getModel())return!1;if("container"===t.get("name")||"Image"===t.get("name")||"molecule"===t.get("name")){var i=e.item.getModel();return!("isAvailable"in i&&0==i.isAvailable||"notAvailable"in i&&i.notAvailable)}return!1},offset:10},{type:"tooltip",formatText:function(e){if(e.failureCause){var t=e.failureCause.length,i=e.failureCause.split(" "),c="",n=0,a=!1;return i.forEach((function(e){n>=t/2&&0==a&&(c=c.concat("<br/>"),a=!0),c=c.concat(e," "),n+=e.length+1})),c}},shouldBegin:function(e){return!1},offset:10},{type:"zoom-canvas",minZoom:1e-4},{type:"drag-canvas"}]},defaultEdge:{type:"retroTreeEdge",style:{offset:25}},defaultNode:{type:"retroTreeNode",labelCfg:{style:{fill:"red",fontSize:10}},style:{stroke:"#72CC4A",width:150}},layout:{type:"compactBox",direction:"TB",nodeSep:250,rankSep:160,getHGap:function(e){return 100},getVGap:function(e){return 100}},fitView:!0,renderer:"canvas",autoPaint:!0,animate:!1})),Re.on("node:click",(function(e){var t=e.item,i=e.target,c=(i.get("type"),i.get("name")),n=t.getModel();if(console.log("node clicked",n),Ne=n,t.get("parent"),"reviseSelected"in n&&n.reviseSelected&&(n.reviseSelected=!1),"deleteButton"===c)"children"in n&&null!=n.children&&0!=n.children.length?A([Object(w.jsx)(Ce,{model:n,graph:Re,setSideButtonVisibility:k,setModelArr:A})]):(n.children&&(Re.updateChildren([],n.id),ot.updateTreeData(Re.cfg.data),Re.render(),n.children=[]),"handledByAI"in n&&1==n.handledByAI&&(n.handledByAI=!1),"AIFailed"in n&&1==n.AIFailed&&(n.AIFailed=!1),document.getElementById("drawBoardText").innerHTML="Please edit the reaction.",document.getElementById("drawBoardButton").innerHTML="Save changes",document.getElementById("drawBoardButton").style.width="200px",document.getElementById("drawBoardButton").style.left="80%",window.ketcher.setMolecule(n.smiles),document.getElementById("drawBoard").style.visibility="visible",document.getElementById("drawBoard").style.zIndex=2,document.getElementById("main").style.zIndex=-1);else if("expandButton"===c){if(f([]),"AIRoutes"in Ne&&"handledByAI"in Ne&&1==Ne.handledByAI){s(!1),k("hidden"),We=JSON.parse(JSON.stringify(Re.cfg.data)),console.log("previousGraph",We),Re.changeSize(.7315*_e,18.9*Ke),Re.fitView(),Re.render();for(var a=[],l=1,d=[],r=0;r!=Ne.AIRoutes.length;++r)r!=Ne.AIRoutesIndex?d.push(!1):d.push(!0);Ge(d),Ne.AIRoutes.forEach((function(e){var t="selectedDropDownItem"+Ne.AIRoutes.indexOf(e);console.log("route",e);var i=Object(w.jsxs)(be.a,{id:t,style:{height:"80px",color:"black"},size:"lg",children:[Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px"},children:Object(w.jsxs)(oe.a,{children:["Alternative ",l]})}),Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"12px",justifyItems:"start",position:"relative",top:"10px"},children:Object(w.jsx)(oe.a,{children:Object(w.jsx)("div",{children:Object(w.jsxs)("span",{children:["Confidence: ",e.confidence,"  "]})})})})]});a.push(Object(w.jsx)(ue.b,{style:{backgroundColor:Ne.AIRoutesIndex==Ne.AIRoutes.indexOf(e)?"#e9ecef":""},onClick:function(){document.getElementById("selectedDropDownItem"+Ne.AIRoutesIndex).style.backgroundColor="#f4f5f7",document.getElementById("selectedDropDownItem"+Ne.AIRoutes.indexOf(e)).style.backgroundColor="#e9ecef",He=e,Ne.AIRoutesIndex=Ne.AIRoutes.indexOf(e),Ge([]),_(),Ne.children=[],"children"in He&&He.children.forEach((function(e){Ne.children.push(e)})),Ne.confidence=e.confidence,ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data)},children:i})),l+=1})),f(a)}}else if("deleteMolecule"===c)A([Object(w.jsx)(ge,{model:n,graph:Re,setSideButtonVisibility:k,setModelArr:A})]);else if("editMolecule"===c)A([Object(w.jsx)(ye,{model:n,graph:Re,setSideButtonVisibility:k,setModelArr:A})]);else if("container"===c||"molecule"===c){if("isAvailable"in n&&0==n.isAvailable)return;n.notAvailable=!0,ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data)}})),ot.updateTreeGraph(Re),Re.data(e),Re.render(),Re.setMinZoom(1e-4)}),[]),Object(w.jsxs)("div",{style:{width:.95*_e,height:18.9*Ke,position:"relative",left:"2.5%"},ref:rt,children:[Object(w.jsxs)(ue.c,{style:{position:"absolute",left:"80%",top:"0%",height:21*Ke},collapsed:c,children:[Object(w.jsx)(ue.f,{children:Object(w.jsx)(de.a,{children:Object(w.jsx)("div",{style:{height:2*Ke,fontSize:"22px",display:"flex",alignContent:"center",alignItems:"center",marginLeft:"40px",color:"black"},children:"AI Generated Route"})})}),Object(w.jsx)(ue.d,{children:Object(w.jsx)(ue.a,{children:Object(w.jsx)(ke.a,{style:Qe.routeView,children:m})})}),Object(w.jsxs)(ue.e,{children:[Object(w.jsx)(ae.a,{variant:"contained",size:"large",onClick:function(){s(!0),k("visible"),Re.changeSize(.95*_e,18.9*Ke),null!=We&&(ot.updateTreeData(We),Re.read(We))},style:{height:2*Ke,width:"50%",backgroundColor:"grey"},children:"Cancel"}),Object(w.jsx)(ae.a,{variant:"contained",size:"large",onClick:function(){s(!0),k("visible"),Re.changeSize(.95*_e,18.9*Ke),Re.fitView(),Re.render(),k("hidden")},style:{height:2*Ke,width:"50%"},children:"Apply"})]})]}),Object(w.jsxs)(ue.c,{id:"reviseSideBar",style:{position:"absolute",left:"80%",top:"0%",height:21*Ke,margin:"0",padding:"0"},collapsed:o,children:[Object(w.jsx)(ue.f,{children:Object(w.jsxs)(de.a,{children:[Object(w.jsx)("div",{style:{height:2*Ke,fontSize:"22px",display:"flex",alignContent:"center",alignItems:"center",marginLeft:"20px",color:"black"},children:"Recommended Revise Step"}),Object(w.jsx)("div",{style:{height:2*Ke,fontSize:"22px",display:"flex",alignContent:"center",alignItems:"center"},children:Object(w.jsx)(Je,{title:Object(w.jsx)(a.a.Fragment,{children:Object(w.jsxs)("div",{id:"criteriaTooltip",style:{display:"flex",flexDirection:"column",fontSize:"15px",flexWrap:"nowrap"},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Influence:"}),"  the number of molecules affected by revising the step"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Reaction confidence:"})," the confidence in the step of disconnection"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Complexity:"}),"  the reduction of the complexity of the step's reactants compared to its product"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Convergence:"})," the number of reactants in the step and their relative sizes"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Associated subtree confidence:"})," the confidence in the associated subtrees in the step ",Object(w.jsx)("br",{}),"other than the subtree containing the molecule(s) that are not able to find a retrosynthetic ",Object(w.jsx)("br",{}),"route by AI or not usable/accessible"]})]})}),children:Object(w.jsx)(Be.a,{children:Object(w.jsx)(we.a,{})})})})]})}),Object(w.jsx)(ue.d,{children:Object(w.jsxs)(ue.a,{style:{margin:"0",padding:"0"},iconShape:"square",children:[Object(w.jsx)(ue.g,{title:Object(w.jsx)("div",{style:{height:1.3*Ke,color:"black",padding:"0px"},children:Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"15px"},children:"Revise Candidate"})}),open:$e,onOpenChange:function(e){$e?et(!1):(nt(!1),et(!0))},children:Object(w.jsx)(ke.a,{style:Qe.scrollView,children:j})}),Object(w.jsx)(ue.g,{title:Object(w.jsx)("div",{style:{height:1.3*Ke,color:"black",padding:"0px"},children:Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"15px"},children:"Failure Molecule Candidates"})}),open:ct,onOpenChange:function(e){ct?nt(!1):(et(!1),nt(!0))},children:Object(w.jsx)(ke.a,{style:Qe.scrollView,children:O})})]})}),Object(w.jsx)(ue.e,{children:Object(w.jsx)(ae.a,{variant:"contained",size:"large",onClick:function(){u(!0),k("visible"),Re.changeSize(.95*_e,18.9*Ke),Re.fitView(),Re.render()},style:{height:2*Ke,width:"100%",backgroundColor:"grey"},children:"Close"})})]}),Object(w.jsx)(q.a,{style:{position:"absolute",top:"40%",left:"99%",width:150,margin:"0px",padding:"0px"},visibility:B,children:Object(w.jsx)(xe.a,{onClick:function(){u(!1),k("hidden"),Re.changeSize(.7315*_e,18.9*Ke),Re.fitView(),Re.render()},children:Object(w.jsx)(pe.a,{sx:{mr:1}})})}),E,Object(w.jsxs)(ne.a,{id:"modal",show:Z,centered:!0,size:"lg",children:[Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(w.jsx)("div",{style:{textAlign:"center",paddingTop:"10px",fontSize:"25px"},children:"Constraints for AI RetroSynthetic Route Planning"}),Object(w.jsx)("div",{style:{height:2*Ke,fontSize:"22px",display:"flex",alignContent:"center",alignItems:"center"},children:Object(w.jsx)(Je,{title:Object(w.jsx)(a.a.Fragment,{children:Object(w.jsxs)("div",{id:"criteriaTooltip",style:{display:"flex",flexDirection:"column",fontSize:"15px",flexWrap:"nowrap"},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Price Threshold:"}),"  maximum price in USD per g/ml of commercially available ",Object(w.jsx)("br",{}),"compounds that will be considered available precursors for the retrosynthesis. ",Object(w.jsx)("br",{}),"Defaults to no price threshold"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Maximum Steps:"})," maximum number of retrosynthetic steps ",Object(w.jsx)("br",{})," Defaults to 15 steps"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Exclude Substructure(s):"}),"  SMILES of substructures to exclude from precursors ",Object(w.jsx)("br",{}),"Defaults to None, a.k.a., no excluded substructures. "]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Exclude Molecule(s):"}),"  SMILES of molecules to exclude from the set of precursors. ",Object(w.jsx)("br",{}),"Defaults to None, a.k.a., no excluded molecules. "]})]})}),children:Object(w.jsx)(Be.a,{children:Object(w.jsx)(we.a,{})})})})]}),Object(w.jsx)("div",{style:{textAlign:"center",paddingTop:"0px",fontSize:"15px"},children:"Unselect constraints to apply NO constraints"}),Object(w.jsx)("div",{style:{margin:"40px",marginTop:"20px"},children:Object(w.jsx)(Ie,{updateConstraintFromPanel:function(e,t,i,c){L({price:e,mssr:t,excludeSubstructure:i,excludeSmiles:c})},currentConstraints:lt.current})}),Object(w.jsxs)("div",{children:[Object(w.jsx)(ae.a,{style:{width:"50%"},onClick:function(){G(!1)},children:"cancel"}),Object(w.jsx)(ae.a,{onClick:function(){W(z),G(!1),console.log("currentConstraints",z),Te(!0),Le("Rerun AI Route Planning"),fetch(ot.serverIp.concat("reconfigureConstraints"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({graph:Re.cfg.data,constraints:z})}).then((function(e){return e.json()})).then((function(e){Te(!1),console.log("reconfigureConstraints_response",e),ot.updateTreeData(e),Re.read(e)})).catch((function(e){console.log("fetching error"),console.log(e)}))},style:{width:"50%"},children:"confirm"})]})]}),Object(w.jsxs)(ne.a,{id:"modal",show:fe,centered:!0,size:"lg",children:[Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(w.jsx)("div",{style:{textAlign:"center",paddingTop:"10px",fontSize:"25px"},children:"Adjust Criteria Weighting"}),Object(w.jsx)("div",{style:{height:2*Ke,fontSize:"22px",display:"flex",alignContent:"center",alignItems:"center"},children:Object(w.jsx)(Je,{title:Object(w.jsx)(a.a.Fragment,{children:Object(w.jsxs)("div",{id:"criteriaTooltip",style:{display:"flex",flexDirection:"column",fontSize:"15px",flexWrap:"nowrap"},children:[Object(w.jsx)("div",{style:{height:"30px",textAlign:"center",fontSize:"17px"},children:Object(w.jsx)("b",{children:"Unselect all weights to assign equal weights to each criteria"})}),Object(w.jsx)("div",{style:{height:"14px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Influence:"}),"  the number of molecules affected by revising the step"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Reaction confidence:"})," the confidence in the step of disconnection"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Complexity:"}),"  the reduction of the complexity of the step's reactants compared to its product"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Convergence:"})," the number of reactants in the step and their relative sizes"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Associated subtree confidence:"})," the confidence in the associated subtrees in the step ",Object(w.jsx)("br",{}),"other than the subtree containing the molecule(s) that are not able to find a retrosynthetic ",Object(w.jsx)("br",{}),"route by AI or not usable/accessible"]})]})}),children:Object(w.jsx)(Be.a,{children:Object(w.jsx)(we.a,{})})})})]}),Object(w.jsx)("div",{style:{textAlign:"center",padding:"0px",fontSize:"15px"},children:"Unselect all criteria to apply equal weighting"}),Object(w.jsx)("div",{style:{margin:"40px",marginTop:"20px"},children:Object(w.jsx)(Me,{updateWeightFromPanel:function(e,t,i,c,n){$({influence:e,complexity:t,convergence:i,reactionConfidence:c,associatedSubtreeConfidence:n})},currentWeights:dt.current})}),Object(w.jsxs)("div",{children:[Object(w.jsx)(ae.a,{style:{width:"50%"},onClick:function(){je(!1)},children:"cancel"}),Object(w.jsx)(ae.a,{onClick:function(){le(Q),je(!1),re.a.Util.traverseTree(Re.cfg.data,(function(e){"reviseSelected"in e&&1==e.reviseSelected&&(e.reviseSelected=!1)})),u(!1),k("hidden"),Re.changeSize(.7315*_e,18.9*Ke),Re.fitView(),Re.render(),g([]),Te(!0),Le("Analysing Revise Steps"),qe=null,re.a.Util.traverseTree(Re.cfg.data,(function(e){"failureNodeSelected"in e&&1==e.failureNodeSelected&&(e.failureNodeSelected=!1)})),et(!1),nt(!1),console.log("currentWeight",Q),fetch(ot.serverIp.concat("revise"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({graph:Re.cfg.data,weights:Q})}).then((function(e){return e.json()})).then((function(e){Te(!1),console.log("revise_response",e);var t=e.graph,i=e.comboSawArr;Ze=i.length,ot.updateTreeData(t),Re.read(t),g([]);var c=[],n=1;i.forEach((function(e){var t=e.combo,i=e.SAW,a="selectedCombo"+n,s=Object(w.jsx)("div",{style:{height:"50px",color:"black",padding:"0px"},children:Object(w.jsxs)("div",{className:"comboSubMenu",style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"15px"},children:["rank ",n,", score: ",i.toFixed(3)]})}),l=[],d=1;t.forEach((function(e){var t=Re.findById(e).get("model"),i=a+"selectedRoute"+d,c=[],n=[],s=[];null==dt.current.influence&&null==dt.current.complexity&&null==dt.current.convergence&&null==dt.current.reactionConfidence&&null==dt.current.associatedSubtreeConfidence?(c.push(Object(w.jsxs)("span",{children:["influence: ",t.normalizedInfluence.toFixed(3)," "]})),c.push(Object(w.jsxs)("span",{children:["reaction confidence: ",t.reactionConfidence.toFixed(3)," "]})),n.push(Object(w.jsxs)("span",{children:["complexity: ",t.complexity.toFixed(3)," "]})),n.push(Object(w.jsxs)("span",{children:["convergence: ",t.convergence.toFixed(3)]})),s.push(Object(w.jsxs)("span",{children:["associated subtree confidence: ",t.associatedSubtreeConfidence.toFixed(3)]}))):(null!=dt.current.influence&&c.push(Object(w.jsxs)("span",{children:["influence: ",t.normalizedInfluence.toFixed(3)," "]})),null!=dt.current.reactionConfidence&&c.push(Object(w.jsxs)("span",{children:["reaction confidence: ",t.reactionConfidence.toFixed(3)," "]})),null!=dt.current.complexity&&n.push(Object(w.jsxs)("span",{children:["complexity: ",t.complexity.toFixed(3)," "]})),null!=dt.current.convergence&&n.push(Object(w.jsxs)("span",{children:["convergence: ",t.convergence.toFixed(3)]})),null!=dt.current.associatedSubtreeConfidence&&s.push(Object(w.jsxs)("span",{children:["associated subtree confidence: ",t.associatedSubtreeConfidence.toFixed(3)]}))),l.push(Object(w.jsx)(ue.b,{onClick:function(e){for(var c=1,n=1;null!=document.getElementById("failureNode"+c+"selectedRoute"+n);){for(document.getElementById("failureNode"+c).style.backgroundColor="inherit";null!=document.getElementById("failureNode"+c+"selectedRoute"+n);)document.getElementById("failureNode"+c+"selectedRoute"+n).style.backgroundColor="inherit",n+=1;c+=1,n=1}re.a.Util.traverseTree(Re.cfg.data,(function(e){"failureNodeSelected"in e&&1==e.failureNodeSelected&&(e.failureNodeSelected=!1)}));for(var a=0;a!=Ze;++a)for(var s=1;null!=document.getElementById("selectedCombo"+(a+1)+"selectedRoute"+s);)document.getElementById("selectedCombo"+(a+1)+"selectedRoute"+s).style.backgroundColor="inherit",s+=1;document.getElementById(i).style.backgroundColor="#d7d5d5",re.a.Util.traverseTree(Re.cfg.data,(function(e){"reviseSelected"in e&&1==e.reviseSelected&&(e.reviseSelected=!1)})),t.reviseSelected=!0,ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data),Ue="node"},children:Object(w.jsxs)(be.a,{id:i,style:{height:"100px",color:"black",padding:"0px",backgroundColor:"inherit"},size:"lg",children:[Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"10px"},children:Object(w.jsxs)(oe.a,{children:["Reaction ",d," (Score: ",t.SAW.toFixed(3),")"]})}),Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"12px",justifyItems:"start",position:"relative",top:"10px",left:"10px"},children:Object(w.jsxs)(oe.a,{children:[Object(w.jsx)("div",{children:c}),Object(w.jsx)("div",{children:n}),Object(w.jsx)("div",{children:s})]})})]})})),d+=1})),c.push([parseFloat(i),Object(w.jsx)(ue.g,{id:a,title:s,onClick:function(e){for(var i=1,c=1;null!=document.getElementById("failureNode"+i+"selectedRoute"+c);){for(document.getElementById("failureNode"+i).style.backgroundColor="inherit";null!=document.getElementById("failureNode"+i+"selectedRoute"+c);)document.getElementById("failureNode"+i+"selectedRoute"+c).style.backgroundColor="inherit",c+=1;i+=1,c=1}re.a.Util.traverseTree(Re.cfg.data,(function(e){"failureNodeSelected"in e&&1==e.failureNodeSelected&&(e.failureNodeSelected=!1)}));for(var n=0;n!=Ze;++n)document.getElementById("selectedCombo"+(n+1)).style.backgroundColor="#f4f5f7";if(document.getElementById(a).style.backgroundColor="#e9ecef","node"!==Ue){for(var s=0;s!=Ze;++s)for(var l=1;null!=document.getElementById("selectedCombo"+(s+1)+"selectedRoute"+l);)document.getElementById("selectedCombo"+(s+1)+"selectedRoute"+l).style.backgroundColor="inherit",l+=1;re.a.Util.traverseTree(Re.cfg.data,(function(e){"reviseSelected"in e&&1==e.reviseSelected&&(e.reviseSelected=!1)})),t.forEach((function(e){Re.findById(e).get("model").reviseSelected=!0})),ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data)}Ue="combo"},children:l})]),n+=1}));var a=[];c.forEach((function(e){var t=Object(ie.a)(e,2),i=(t[0],t[1]);a.push(i)})),g(a),v([]);var s=[],l=1;re.a.Util.traverseTree(Re.cfg.data,(function(e){if("isAvailable"in e&&!e.isAvailable||"notAvailable"in e&&e.notAvailable){for(var t="failureNode"+l,i=[],c=Re.findById(e.id).get("parent");null!=c;){var n=c.get("model");"candidate"in n&&n.candidate&&i.push([n.SAW.toFixed(3),{saw:n.SAW.toFixed(3),visited:!1}]),c=c.get("parent")}i.sort();var a=[];i.forEach((function(e){var t=Object(ie.a)(e,2),i=(t[0],t[1]);a.push(i)})),i=a,console.log("sawStatusArr",i);for(var d=[],r=Re.findById(e.id).get("parent"),o=1,u=function(){var e=r.get("model");if("candidate"in e&&e.candidate){console.log("nodeCount",o);for(var c=t+"selectedRoute"+o,n=0;n!=i.length;++n)if(e.SAW.toFixed(3)==i[n].saw&&0==i[n].visited){i[n].visited=!0;break}console.log("saw",e.SAW.toFixed(3)),console.log("reactionIndex",n);var a=[],s=[],l=[];null==dt.current.influence&&null==dt.current.complexity&&null==dt.current.convergence&&null==dt.current.reactionConfidence&&null==dt.current.associatedSubtreeConfidence?(a.push(Object(w.jsxs)("span",{children:["influence: ",e.normalizedInfluence.toFixed(3)," "]})),a.push(Object(w.jsxs)("span",{children:["reaction confidence: ",e.reactionConfidence.toFixed(3)," "]})),s.push(Object(w.jsxs)("span",{children:["complexity: ",e.complexity.toFixed(3)," "]})),s.push(Object(w.jsxs)("span",{children:["convergence: ",e.convergence.toFixed(3)]})),l.push(Object(w.jsxs)("span",{children:["associated subtree confidence: ",e.associatedSubtreeConfidence.toFixed(3)]}))):(null!=dt.current.influence&&a.push(Object(w.jsxs)("span",{children:["influence: ",e.normalizedInfluence.toFixed(3)," "]})),null!=dt.current.reactionConfidence&&a.push(Object(w.jsxs)("span",{children:["reaction confidence: ",e.reactionConfidence.toFixed(3)," "]})),null!=dt.current.complexity&&s.push(Object(w.jsxs)("span",{children:["complexity: ",e.complexity.toFixed(3)," "]})),null!=dt.current.convergence&&s.push(Object(w.jsxs)("span",{children:["convergence: ",e.convergence.toFixed(3)]})),null!=dt.current.associatedSubtreeConfidence&&l.push(Object(w.jsxs)("span",{children:["associated subtree confidence: ",e.associatedSubtreeConfidence.toFixed(3)]}))),d.push([e.SAW.toFixed(3),Object(w.jsx)(ue.b,{onClick:function(t){for(var i=0;i!=Ze;++i){document.getElementById("selectedCombo"+(i+1)).style.backgroundColor="inherit";for(var n=1;null!=document.getElementById("selectedCombo"+(i+1)+"selectedRoute"+n);)document.getElementById("selectedCombo"+(i+1)+"selectedRoute"+n).style.backgroundColor="inherit",n+=1}for(var a=1,s=1;null!=document.getElementById("failureNode"+a+"selectedRoute"+s);){for(document.getElementById("failureNode"+a).style.backgroundColor="inherit";null!=document.getElementById("failureNode"+a+"selectedRoute"+s);)document.getElementById("failureNode"+a+"selectedRoute"+s).style.backgroundColor="inherit",s+=1;a+=1,s=1}document.getElementById(c).style.backgroundColor="#d7d5d5",re.a.Util.traverseTree(Re.cfg.data,(function(e){"reviseSelected"in e&&1==e.reviseSelected&&(e.reviseSelected=!1)})),e.reviseSelected=!0,ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data),Ve="node"},children:Object(w.jsxs)(be.a,{id:c,style:{height:"100px",color:"black",padding:"0px",backgroundColor:"inherit"},size:"lg",children:[Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"10px"},children:Object(w.jsxs)(oe.a,{children:["Reaction ",n+1," (Score: ",e.SAW.toFixed(3),")"]})}),Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"12px",justifyItems:"start",position:"relative",top:"10px",left:"10px"},children:Object(w.jsxs)(oe.a,{children:[Object(w.jsx)("div",{children:a}),Object(w.jsx)("div",{children:s}),Object(w.jsx)("div",{children:l})]})})]})})]),o+=1}r=r.get("parent")};null!=r;)u();var b=[];d.sort(),d.forEach((function(e){var t=Object(ie.a)(e,2),i=(t[0],t[1]);b.push(i)}));var h=Object(w.jsx)("div",{style:{height:"50px",color:"black",padding:"0px"},children:Object(w.jsxs)("div",{className:"comboSubMenu",style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"15px"},children:["Failure Molecule ",l]})});s.push([e.id,Object(w.jsx)(ue.g,{id:t,title:h,onClick:function(i){for(var c=0;c!=Ze;++c){document.getElementById("selectedCombo"+(c+1)).style.backgroundColor="inherit";for(var n=1;null!=document.getElementById("selectedCombo"+(c+1)+"selectedRoute"+n);)document.getElementById("selectedCombo"+(c+1)+"selectedRoute"+n).style.backgroundColor="inherit",n+=1}if("node"!==Ve){for(var a=1,s=1;null!=document.getElementById("failureNode"+a+"selectedRoute"+s);){for(document.getElementById("failureNode"+a).style.backgroundColor="inherit";null!=document.getElementById("failureNode"+a+"selectedRoute"+s);)document.getElementById("failureNode"+a+"selectedRoute"+s).style.backgroundColor="inherit",s+=1;a+=1,s=1}re.a.Util.traverseTree(Re.cfg.data,(function(e){"reviseSelected"in e&&1==e.reviseSelected&&(e.reviseSelected=!1)}))}document.getElementById(t).style.backgroundColor="#e9ecef",re.a.Util.traverseTree(Re.cfg.data,(function(e){"failureNodeSelected"in e&&1==e.failureNodeSelected&&(e.failureNodeSelected=!1)})),e.failureNodeSelected=!0,ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data),Ve="molecule"},children:b})]),l+=1}}));var d=[];s.forEach((function(e){var t=Object(ie.a)(e,2),i=(t[0],t[1]);d.push(i)})),v(d),re.a.Util.traverseTree(Re.cfg.data,(function(e){if("rank"in e&&e.rank>0){var t="selectedRoute"+e.rank,i=[],n=[],a=[];null==dt.current.influence&&null==dt.current.complexity&&null==dt.current.convergence&&null==dt.current.reactionConfidence&&null==dt.current.associatedSubtreeConfidence?(i.push(Object(w.jsxs)("span",{children:["influence: ",e.normalizedInfluence.toFixed(3)," "]})),i.push(Object(w.jsxs)("span",{children:["reaction confidence: ",e.reactionConfidence.toFixed(3)," "]})),n.push(Object(w.jsxs)("span",{children:["complexity: ",e.complexity.toFixed(3)," "]})),n.push(Object(w.jsxs)("span",{children:["convergence: ",e.convergence.toFixed(3)]})),a.push(Object(w.jsxs)("span",{children:["associated subtree confidence: ",e.associatedSubtreeConfidence.toFixed(3)]}))):(null!=dt.current.influence&&i.push(Object(w.jsxs)("span",{children:["influence: ",e.normalizedInfluence.toFixed(3)," "]})),null!=dt.current.reactionConfidence&&i.push(Object(w.jsxs)("span",{children:["reaction confidence: ",e.reactionConfidence.toFixed(3)," "]})),null!=dt.current.complexity&&n.push(Object(w.jsxs)("span",{children:["complexity: ",e.complexity.toFixed(3)," "]})),null!=dt.current.convergence&&n.push(Object(w.jsxs)("span",{children:["convergence: ",e.convergence.toFixed(3)]})),null!=dt.current.associatedSubtreeConfidence&&a.push(Object(w.jsxs)("span",{children:["associated subtree confidence: ",e.associatedSubtreeConfidence.toFixed(3)]}))),c.push([parseInt(e.rank),Object(w.jsx)(ue.b,{onClick:function(t){null!=qe&&(document.getElementById("selectedRoute"+qe.rank).style.backgroundColor="#f4f5f7"),document.getElementById("selectedRoute"+e.rank).style.backgroundColor="#e9ecef",qe=e,re.a.Util.traverseTree(Re.cfg.data,(function(e){"reviseSelected"in e&&1==e.reviseSelected&&(e.reviseSelected=!1)})),e.reviseSelected=!0,ot.updateTreeData(Re.cfg.data),Re.read(Re.cfg.data)},children:Object(w.jsxs)(be.a,{id:t,style:{height:"100px",color:"black",padding:"0px"},size:"lg",children:[Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"20px",justifyItems:"start",position:"relative",top:"10px",left:"10px"},children:Object(w.jsxs)(oe.a,{children:["Rank ",e.rank," (Score: ",e.SAW.toFixed(3),")"]})}),Object(w.jsx)("div",{style:{fontFamily:"consolas",fontSize:"12px",justifyItems:"start",position:"relative",top:"10px",left:"10px"},children:Object(w.jsxs)(oe.a,{children:[Object(w.jsx)("div",{children:i}),Object(w.jsx)("div",{children:n}),Object(w.jsx)("div",{children:a})]})})]})})])}}))})).catch((function(e){console.log("fetching error"),console.log(e)}))},style:{width:"50%"},children:"confirm"})]})]}),Object(w.jsx)(ne.a,{id:"modal",show:Se,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"40%",textAlign:"center",padding:"10px 20px",paddingTop:"20px",paddingBottom:"0px"},children:Object(w.jsx)("text",{style:{fontSize:"35px"},children:Ae})}),Object(w.jsx)("div",{style:{height:"20%",textAlign:"center",margin:"0px",padding:"0px"},children:Object(w.jsx)("text",{style:{fontSize:"18px"},children:"This process might take up to 10 minutes"})}),Object(w.jsx)(Pe.a,{loading:!0,variant:"outlined",size:"large",style:{width:"50%",height:"35%",border:"none"},loadingIndicator:Object(w.jsx)(se.a,{color:"inherit",size:50})})]})})]})},Qe=Te.a.create({container:{},scrollView:{maxHeight:13.4*Ke},routeView:{maxHeight:16.3*Ke}}),$e=[{i:"a",x:0,y:0,w:60,h:1.7,static:!0},{i:"b",x:0,y:1.7,w:60,h:21,static:!0}],et=window,tt=et.innerWidth,it=et.innerHeight,ct=it/23;function nt(e){var t=Object(n.useContext)(P),i=Object(n.useState)(""),c=Object(ie.a)(i,2),a=(c[0],c[1]),s=Object(n.useState)(""),l=Object(ie.a)(s,2),d=(l[0],l[1]);return Object(n.useEffect)((function(){var e=t.confidence;a(e<0?"":e),e>=.6&&d("High confidence")}),[t]),Object(w.jsxs)(x.a,{allowOverlap:!0,preventCollision:!1,className:"layout",layout:$e,cols:60,rowHeight:ct,width:tt,margin:[3,.5],isResizable:!0,children:[Object(w.jsx)("div",{children:Object(w.jsx)(f.a,{variant:"outlined",style:{height:1.7*ct,backgroundColor:"#e9ecef"},children:Object(w.jsx)(de.a,{style:{position:"relative",top:"17%"},children:Object(w.jsx)(L.a,{id:"constraintButton",variant:"contained",size:"large",style:{position:"absolute",left:"78%",fontSize:"1vm"},children:"edit constraints"})})})},"a"),Object(w.jsx)("div",{children:Object(w.jsxs)(f.a,{id:"treeCard",variant:"outlined",style:{height:21*ct},children:[e.RetroTreeComponent,Object(w.jsxs)(le.a,{show:!0,drop:"up",style:{position:"absolute",top:"84%",left:"0%"},children:[Object(w.jsx)(le.a.Item,{children:Object(w.jsxs)(de.a,{children:[Object(w.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"2px",border:"4px solid rgb(40, 163, 13)"}}),Object(w.jsx)("div",{style:{width:"10px"}}),"Commercially/readily available"]})}),Object(w.jsx)(le.a.Item,{children:Object(w.jsxs)(de.a,{children:[Object(w.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"2px",border:"4px solid rgb(206, 78, 4)"}}),Object(w.jsx)("div",{style:{width:"10px"}}),"Not able to find a synthetic path by AI"]})}),Object(w.jsx)(le.a.Item,{children:Object(w.jsxs)(de.a,{children:[Object(w.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"2px",border:"4px solid blue"}}),Object(w.jsx)("div",{style:{width:"10px"}}),"Marked as not usable/accessible"]})})]})]})},"b")]})}console.log("width",tt),console.log("height",it);var at=["className"],st=Object(V.a)((function(e){var t=e.className,i=Object(W.a)(e,at);return Object(w.jsx)(he.a,Object(j.a)(Object(j.a)({},i),{},{classes:{popper:t}}))}))(Object(ce.a)({},"& .".concat(me.a.tooltip),{maxWidth:"none"})),lt=!1,dt=window,rt=(dt.innerWidth,dt.innerHeight/23);function ot(){var e=Object(n.useState)(""),t=Object(ie.a)(e,2),i=t[0],c=t[1],s=Object(n.useState)({}),l=Object(ie.a)(s,2),d=l[0],r=l[1],o=Object(n.useState)(!1),u=Object(ie.a)(o,2),b=u[0],h=u[1],m=Object(n.useState)({}),f=Object(ie.a)(m,2),p=f[0],x=f[1],j=Object(n.useState)({}),g=Object(ie.a)(j,2),C=g[0],y=g[1],O=Object(n.useState)({}),v=Object(ie.a)(O,2),I=v[0],S=v[1],B=Object(n.useState)([]),k=Object(ie.a)(B,2),T=k[0],F=k[1],E=Object(n.useState)(-1),A=Object(ie.a)(E,2),M=A[0],D=A[1],z=Object(n.useState)("http://49.234.10.199:5000/"),L=Object(ie.a)(z,2),R=L[0],N=(L[1],Object(n.useState)(!1)),H=Object(ie.a)(N,2),W=H[0],U=H[1],V=Object(n.useState)(!1),q=Object(ie.a)(V,2),Z=q[0],G=q[1],J=function(){1!=lt&&(U(!0),setTimeout((function(){window.initRDKitModule().then((function(e){U(!1);var t=document.getElementById("smiles").innerHTML;0==e.get_mol(t).is_valid()?G(!0):h(!0)})).catch((function(e){console.log("render error",e)}))}),600))};Object(n.useEffect)((function(){var e=document.getElementById("drawBoardButton");return e.addEventListener("click",J),function(){e.removeEventListener("click",J)}}),[]);var Y=function(){h(!1),document.getElementById("drawBoard").style.zIndex=-1,document.getElementById("drawBoard").style.visibility="hidden",document.getElementById("main").style.zIndex=2};return Object(w.jsx)(P.Provider,{value:{targetMolecule:i,updateTargetMolecule:c,constraints:d,updateConstraints:r,treeData:p,updateTreeData:function(e){x(e)},treeGraph:C,updateTreeGraph:function(e){y(e)},revisePromise:I,updateRevisePromise:function(e){S(e)},confidence:M,updateConfidence:function(e){D(e)},serverIp:R},children:Object(w.jsxs)("div",{children:[Object(w.jsx)(nt,{RetroTreeComponent:T}),Object(w.jsxs)(ne.a,{id:"modal",show:b,centered:!0,size:"lg",children:[Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(w.jsx)("div",{style:{textAlign:"center",paddingTop:"10px",fontSize:"25px"},children:"Constraints for AI RetroSynthetic Route Planning"}),Object(w.jsx)("div",{style:{height:2*rt,fontSize:"22px",display:"flex",alignContent:"center",alignItems:"center"},children:Object(w.jsx)(st,{title:Object(w.jsx)(a.a.Fragment,{children:Object(w.jsxs)("div",{id:"criteriaTooltip",style:{display:"flex",flexDirection:"column",fontSize:"15px",flexWrap:"nowrap"},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Price Threshold:"}),"  maximum price in USD per g/ml of commercially available ",Object(w.jsx)("br",{}),"compounds that will be considered available precursors for the retrosynthesis. ",Object(w.jsx)("br",{}),"Defaults to no price threshold"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Maximum Steps:"})," maximum number of retrosynthetic steps ",Object(w.jsx)("br",{})," Defaults to 15 steps"]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Exclude Substructure(s):"}),"  SMILES of substructures to exclude from precursors ",Object(w.jsx)("br",{}),"Defaults to None, a.k.a., no excluded substructures. "]}),Object(w.jsx)("div",{style:{height:"7px"}}),Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Exclude Molecule(s):"}),"  SMILES of molecules to exclude from the set of precursors. ",Object(w.jsx)("br",{}),"Defaults to None, a.k.a., no excluded molecules. "]})]})}),children:Object(w.jsx)(Be.a,{children:Object(w.jsx)(we.a,{})})})})]}),Object(w.jsx)("div",{style:{textAlign:"center",paddingTop:"0px",fontSize:"15px"},children:"Unselect constraints to apply NO constraints"}),Object(w.jsx)("div",{style:{margin:"40px",marginTop:"20px"},children:Object(w.jsx)(te,{updateConstraintFromPanel:function(e,t,i,c){r({price:e,mssr:t,excludeSubstructure:i,excludeSmiles:c})}})}),Object(w.jsx)(P.Consumer,{children:function(e){return Object(w.jsxs)("div",{children:[Object(w.jsx)(ae.a,{style:{width:"50%"},onClick:function(){h(!1)},children:"cancel"}),Object(w.jsx)(ae.a,{onClick:function(){e.updateTargetMolecule(document.getElementById("smiles").innerHTML),e.updateConstraints(d),console.log("initial constraints",d),h(!1),document.getElementById("drawBoard").style.zIndex=-1,document.getElementById("main").style.zIndex=2,document.getElementById("drawBoard").style.visibility="hidden",U(!0),fetch(e.serverIp.concat("initialize"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({smiles:document.getElementById("smiles").innerHTML,constraints:d})}).then((function(e){return e.json()})).then((function(t){U(!1),console.log("initialize_response",t),e.updateTreeData(t),"confidence"in t&&e.updateConfidence(t.confidence),F([Object(w.jsx)(Xe,{constraints:d})]),document.getElementById("drawBoardButton").addEventListener("click",Y),window.ketcher.setMolecule(""),lt=!0})).catch((function(e){console.log("fetching error"),console.log(e)}))},style:{width:"50%"},children:"confirm"})]})}})]}),Object(w.jsx)(ne.a,{id:"modal",show:W,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"40%",textAlign:"center",padding:"10px 20px",paddingTop:"20px",paddingBottom:"0px"},children:Object(w.jsx)("text",{style:{fontSize:"35px"},children:"Analysing Target Molecule"})}),Object(w.jsx)("div",{style:{height:"20%",textAlign:"center",margin:"0px",padding:"0px"},children:Object(w.jsx)("text",{style:{fontSize:"18px"},children:"This process might take up to 10 minutes"})}),Object(w.jsx)(Pe.a,{loading:!0,variant:"outlined",size:"large",style:{width:"50%",height:"35%",border:"none"},loadingIndicator:Object(w.jsx)(se.a,{color:"inherit",size:50})})]})}),Object(w.jsx)(ne.a,{id:"modal",show:Z,centered:!0,size:"lg",children:Object(w.jsxs)("div",{style:{height:"200px",textAlign:"center",padding:"0px",margin:"0px"},children:[Object(w.jsx)("div",{style:{height:"40%",textAlign:"left",padding:"10px 20px",paddingTop:"20px",paddingBottom:"0px"},children:Object(w.jsx)("text",{style:{fontSize:"35px"},children:"Molecule Parsing Error"})}),Object(w.jsx)("div",{style:{height:"60%",textAlign:"left",padding:"10px 20px",paddingBottom:"30px",paddingLeft:"22px",paddingTop:"30px"},children:Object(w.jsx)("text",{style:{fontSize:"20px"},children:"The target molecule is not valid."})}),Object(w.jsx)(ae.a,{style:{width:"100%",height:"35%",backgroundColor:"#2867f3",border:"none",color:"white"},onClick:function(){G(!1)},children:"Modify Target Molecule"})]})})]})})}l.a.render(Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsx)(ot,{})}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]}),document.getElementById("main")),d()}},[[643,1,2]]]);
//# sourceMappingURL=main.0b0384dc.chunk.js.map